<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ›²é–äºŒå°å…­å¹´çº§17ç­ã€Šçˆ±çš„æ•™è‚²ã€‹é˜…è¯»çŸ¥è¯†æŒ‘æˆ˜èµ›</title>
    <link rel="preconnect" href="https://fonts.font.im">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.font.im/css2?family=ZCOOL+KuaiLe&family=Ma+Shan+Zheng&family=Long+Cang&display=swap" rel="stylesheet">
    <script src="https://cdn.bootcdn.net/ajax/libs/pico.css/1.5.10/pico.min.css"></script>
    <style>
        :root {
            /* é¢œè‰²ä¸»é¢˜ - æ˜äº®æ¸©æš–çš„æ¸å˜è‰²ç³»ï¼Œé€‚åˆå„¿ç«¥ */
            --primary: #FF6B00;
            --secondary: #FFE082;
            --correct: #4CAF50;
            --wrong: #E53935;
            --timeout: #FF9800;
            --background-start: #FFF8E6;
            --background-end: #FFE0B2;
            --card-bg: rgba(255, 255, 255, 0.95);
            --text-dark: #333333;
            --text-light: white;
            --button-bg: #FFD180;
            --button-border: #FF6B00;
            --button-text: #BF360C;
            --button-hover-bg: #FFA726;
            --primary-rgb: 255, 107, 0;
            --secondary-rgb: 255, 224, 130;
            --timeout-rgb: 255, 152, 0;
            --correct-rgb: 76, 175, 80;
            --text-dark-rgb: 51, 51, 51;

            /* åŸºç¡€å°ºå¯¸ */
            --base-font-size: 20px; 
            --base-padding: 16px;
            --base-margin: 12px; 
            --base-radius: 20px;

            /* å­—ä½“æ ˆ */
            --font-fun: 'ZCOOL KuaiLe', cursive, 'Microsoft YaHei', sans-serif;
            --font-formal: 'KaiTi', 'SimSun', serif, 'Microsoft YaHei';
            --font-handwriting: 'Long Cang', cursive;
            --font-elegant: 'Ma Shan Zheng', cursive;
            --font-gaming: 'Comic Sans MS', sans-serif;
        }

        body {
            margin: 0; 
            padding: 0;
            background: linear-gradient(135deg, var(--background-start) 0%, var(--background-end) 100%);
            font-family: var(--font-fun);
            font-size: var(--base-font-size);
            color: var(--text-dark);
            overflow-x: hidden;
            display: flex; 
            align-items: flex-start;
            justify-content: center;
            min-height: 100vh;
            position: relative;
            padding-top: 20px;
        }

        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                radial-gradient(circle at 20% 20%, rgba(255, 107, 0, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255, 224, 130, 0.1) 0%, transparent 50%);
            pointer-events: none;
        }

        .container {
            width: 95%; 
            max-width: 900px;
            display: flex;
            flex-direction: column;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            padding: var(--base-padding);
            box-sizing: border-box;
            text-align: center;
            position: relative;
            overflow-y: auto;
            z-index: 1;
            min-height: calc(100vh - 40px);
        }

        .title {
            color: #FF0000;
            text-align: center;
            margin: 5px 0;
            font-family: "é»‘ä½“", sans-serif;
            font-size: 29px;
            line-height: 1.2;
            font-weight: bold;
            text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.5);
            background: linear-gradient(145deg, #FFD700, #FFA500);
            padding: 15px 20px;
            border-radius: 15px;
            border: none;
            box-shadow: 0 8px 25px rgba(255, 107, 0, 0.3);
            animation: titleGlow 2s ease-in-out infinite alternate;
            white-space: nowrap;
        }

        @keyframes titleGlow {
            0% {
                box-shadow: 0 8px 25px rgba(255, 0, 0, 0.3);
                transform: scale(1);
            }
            100% {
                box-shadow: 0 12px 35px rgba(255, 0, 0, 0.5);
                transform: scale(1.02);
            }
        }

        .section {
            margin-bottom: calc(var(--base-margin) * 1.5);
        }

        .challenge-info {
            text-align: center;
            margin-bottom: calc(var(--base-margin) * 1.5);
            padding: calc(var(--base-padding) * 1.5);
            background: rgba(var(--secondary-rgb), 0.15);
            border-radius: var(--base-radius);
            font-size: 18px;
            color: #333;
            font-family: var(--font-formal);
            line-height: 1.6;
            border: 2px dashed var(--primary);
        }

        .button-group {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: calc(var(--base-margin) * 1.5) 0;
            flex-wrap: wrap;
        }

        .btn-fun {
            background: linear-gradient(145deg, var(--primary), var(--secondary));
            color: var(--text-light);
            border: none;
            padding: 18px 40px;
            border-radius: var(--base-radius);
            font-size: 22px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            font-family: var(--font-fun);
            letter-spacing: 0.5px;
            position: relative;
            overflow: hidden;
        }

        .btn-fun::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn-fun:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn-fun:hover {
            background: linear-gradient(145deg, var(--secondary), var(--primary));
            transform: scale(1.05);
            box-shadow: 0 12px 30px rgba(0,0,0,0.2);
            text-shadow: 3px 3px 6px rgba(0,0,0,0.2);
        }

        .btn-fun:active {
            transform: scale(0.98);
        }

        .group-display {
            background: linear-gradient(145deg, var(--secondary), #FFFFFF);
            padding: 25px;
            border-radius: var(--base-radius);
            margin-bottom: calc(var(--base-margin) * 1.5);
            min-height: 120px;
            box-shadow: 0 6px 20px rgba(0,0,0,0.08);
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            justify-content: center;
            align-items: center;
            border: 3px solid var(--primary);
        }

        .group-title {
            font-size: 28px;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 15px;
            font-family: var(--font-elegant);
            text-align: center;
            animation: bounceIn 0.6s ease-out;
            width: 100%;
        }

        .student-name {
            background: var(--button-bg);
            padding: 10px 18px;
            border-radius: 25px;
            font-size: 18px;
            font-family: var(--font-gaming);
            transition: all 0.3s ease-in-out;
            box-shadow: 0 2px 6px rgba(0,0,0,0.05);
            border: 2px solid var(--button-border);
        }

        .student-name:hover {
            transform: scale(1.1) rotate(2deg);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            background: var(--button-hover-bg);
        }

        .status-bar {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: var(--base-margin);
            margin-bottom: var(--base-margin);
            padding: var(--base-padding);
            background: rgba(255, 255, 255, 0.75);
            border-radius: var(--base-radius);
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            border: 2px solid var(--secondary);
        }

        .status-item {
            font-size: 36px;  /* ç»Ÿä¸€ä¸º36pxï¼Œä¸å€’è®¡æ—¶ä¸€è‡´ */
            font-weight: bold;
            color: var(--text-dark);
            background: linear-gradient(145deg, var(--button-bg), var(--button-hover-bg));
            padding: calc(var(--base-padding) * 0.8) calc(var(--base-padding) * 1.2);
            border-radius: calc(var(--base-radius) * 0.6);
            border: 3px solid var(--button-border);
            min-width: 120px;
            text-align: center;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.05);
            font-family: var(--font-gaming);
        }

        .timer {
            font-size: 36px;  /* ä¿æŒ36px */
            font-weight: bold;
            color: var(--primary);
            border-color: var(--primary);
            min-width: 120px;
            padding: calc(var(--base-padding) * 1.0) calc(var(--base-padding) * 1.3);
            border-radius: calc(var(--base-radius) * 0.8);
            border: 5px solid var(--primary);
            background: linear-gradient(145deg, #fff, var(--secondary));
            text-align: center;
            font-family: var(--font-gaming);
            box-shadow: 0 4px 15px rgba(0,0,0,0.15);
            transition: all 0.3s ease-in-out;
            animation: timerPulse 2s ease-in-out infinite;
        }

        @keyframes timerPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .timer.warning {
            color: var(--wrong);
            border-color: var(--wrong);
            animation: timerWarning 0.5s ease-in-out infinite;
        }

        @keyframes timerWarning {
            0%, 100% { transform: scale(1) rotate(0deg); }
            25% { transform: scale(1.1) rotate(-3deg); }
            75% { transform: scale(1.1) rotate(3deg); }
        }

        .question-card {
            background: var(--card-bg);
            padding: calc(var(--base-padding) * 2);
            border-radius: var(--base-radius);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            margin-bottom: var(--base-margin);
            transition: all 0.4s ease-in-out;
            width: 100%; 
            max-width: 100%;  /* ç¡®ä¿ä¸è¶…å‡ºå®¹å™¨å®½åº¦ */
            border: 5px solid rgba(var(--primary-rgb), 0.3);
            position: relative;
            opacity: 0; 
            transform: translateY(30px);
            overflow: visible;  /* ç¡®ä¿å†…å®¹å¯è§ */
            box-sizing: border-box;  /* åŒ…å«paddingå’Œborderåœ¨å®½åº¦å†… */
        }

        .question-card.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .question-text {
            font-size: 28px;
            margin-bottom: calc(var(--base-margin) * 1.5);
            color: var(--text-dark);
            line-height: 1.6;
            font-weight: 600;
            font-family: var(--font-fun);
            text-align: center;
            word-wrap: break-word;  /* ç¡®ä¿é•¿æ–‡æœ¬æ¢è¡Œ */
        }

        .options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));  /* è°ƒæ•´æœ€å°å®½åº¦ç¡®ä¿é€‰é¡¹å¯è§ */
            gap: calc(var(--base-margin) * 1.5);
            margin-top: calc(var(--base-margin) * 1.5);
            justify-content: center;
            width: 100%;
            box-sizing: border-box;
        }

        .option-btn {
            font-family: var(--font-gaming);
            font-size: 24px;
            padding: calc(var(--base-padding) * 1.2);
            border: 4px solid var(--button-border);
            background: linear-gradient(145deg, var(--button-bg), #FFD180);
            color: var(--button-text);
            border-radius: calc(var(--base-radius) * 0.8);
            cursor: pointer;
            transition: all 0.3s ease-in-out;
            text-align: left;
            white-space: normal; 
            line-height: 1.5;
            overflow: hidden;
            text-overflow: ellipsis;
            position: relative;
            word-wrap: break-word;
            box-sizing: border-box;
            min-height: 60px;  /* ç¡®ä¿æŒ‰é’®æœ‰è¶³å¤Ÿé«˜åº¦ */
            width: 100%;
        }

        .option-btn:hover:not(:disabled) {
            background: linear-gradient(145deg, var(--button-hover-bg), var(--button-bg));
            color: var(--button-text);
            border-color: var(--primary);
            transform: scale(1.03) translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }

        .option-btn.correct {
            background: linear-gradient(145deg, var(--correct), #AED581);
            color: var(--text-light) !important; 
            border-color: transparent !important;
            animation: bounceCorrectLarge 0.6s ease;
            box-shadow: 0 8px 25px rgba(var(--correct-rgb), 0.4);
            font-weight: 700;
            transform: scale(1.05);
        }

        .option-btn.wrong {
            background: linear-gradient(145deg, var(--wrong), #EF5350);
            color: var(--text-light) !important; 
            border-color: transparent !important;
            animation: shakeLarge 0.5s ease-in-out;
            box-shadow: 0 8px 25px rgba(239, 83, 80, 0.4);
            transform: scale(0.95);
        }

        .answer-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.3);
            z-index: 2000;
            display: none;
            text-align: center;
            border: 3px solid var(--primary);
            min-width: 300px;
            max-width: 80%;  /* ç¡®ä¿å¼¹çª—ä¸ä¼šè¶…å‡ºå±å¹• */
        }

        .answer-popup.show {
            display: block;
            animation: popupShow 0.5s ease-out;
        }

        @keyframes popupShow {
            from {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.5);
            }
            to {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }

        .answer-popup h3 {
            color: var(--primary);
            margin-bottom: 15px;
            font-size: 24px;
        }

        .answer-popup p {
            color: var(--text-dark);
            font-size: 18px;
            line-height: 1.5;
        }

        .result-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 3000;
        }

        .result-overlay.show {
            display: flex;
            animation: fadeIn 0.5s ease-out;
        }

        .result-card {
            background: white;
            padding: 40px;
            border-radius: 25px;
            text-align: center;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            animation: scaleIn 0.5s ease-out;
            max-width: 500px;
            width: 90%;
        }

        .result-group {
            font-size: 32px;
            color: var(--primary);
            margin-bottom: 20px;
            font-weight: bold;
        }

        .result-score {
            font-size: 48px;
            font-weight: bold;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .result-message {
            font-size: 24px;
            margin-bottom: 30px;
            font-family: var(--font-elegant);
        }

        .excellent { color: var(--correct); }
        .good { color: var(--primary); }
        .encourage { color: var(--timeout); }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes scaleIn {
            from { transform: scale(0.5); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        @keyframes bounceIn {
            0% { opacity: 0; transform: scale(0.3); }
            50% { opacity: 1; transform: scale(1.05); }
            70% { transform: scale(0.9); }
            100% { transform: scale(1); }
        }

        @keyframes shakeLarge { 
            0%, 100% { transform: translateX(0); } 
            20% { transform: translateX(-15px) rotate(-3deg); } 
            40% { transform: translateX(15px) rotate(3deg); } 
            60% { transform: translateX(-10px) rotate(-2deg); } 
            80% { transform: translateX(10px) rotate(3deg); } 
        }

        @keyframes bounceCorrectLarge { 
            0%, 100% { transform: translateY(0) scale(1.05); } 
            40% { transform: translateY(-15px) scale(1.05); } 
            60% { transform: translateY(5px) scale(0.98); } 
            100% { transform: translateY(0) scale(1); } 
        }

        .hidden {
            display: none !important;
        }

        /* é¡µè„šæ ·å¼ */
        footer {
            margin-top: 20px;
            padding: 15px;
            text-align: center;
            font-size: 16px;
            color: #666;
            font-family: 'Microsoft YaHei', sans-serif;
            border-top: 2px solid var(--secondary);
            background: rgba(var(--secondary-rgb), 0.1);
            border-radius: 10px;
        }

        /* è§¦å±ä¼˜åŒ– */
        @media (max-width: 768px) {
            .container {
                width: 98%;  /* ç§»åŠ¨ç«¯æ›´å®½ */
                padding: 8px;
            }
            
            .title {
                font-size: 22px;
                padding: 12px 15px;
            }
            
            .question-text {
                font-size: 22px;
            }
            
            .option-btn {
                font-size: 18px;
                padding: 12px;
            }
            
            .options {
                grid-template-columns: 1fr;
                gap: 10px;
            }
            
            .btn-fun {
                padding: 14px 30px;
                font-size: 18px;
            }

            .status-item {
                font-size: 28px;  /* ç§»åŠ¨ç«¯ç¨å¾®è°ƒå° */
                min-width: 100px;
                padding: 8px 12px;
            }

            .timer {
                font-size: 28px;  /* ç§»åŠ¨ç«¯ç¨å¾®è°ƒå° */
                min-width: 100px;
                padding: 8px 12px;
            }

            footer {
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="title">æ›²é–äºŒå°å…­å¹´çº§17ç­ã€Šçˆ±çš„æ•™è‚²ã€‹é˜…è¯»çŸ¥è¯†æŒ‘æˆ˜èµ›</h1>
        
        <div id="groupingSection" class="section">
            <div id="challengeInfo" class="challenge-info">
                <p>ğŸ¯ éšæœºæŠ½å–5ååŒå­¦ç»„é˜Ÿï¼Œæ¯é˜Ÿ10é¢˜ï¼Œæ¯é¢˜10ç§’ï¼Œæ»¡åˆ†100åˆ†ï¼</p>
            </div>
            <div class="button-group">
                <button id="startGroupingBtn" class="btn-fun">å¼€å§‹éšæœºç»„é˜Ÿ</button>
                <button id="randomGroupBtn" class="btn-fun hidden">éšæœºåˆ†ç»„</button>
                <button id="nextGroupBtn" class="btn-fun hidden">ä¸‹ä¸€ç»„</button>
            </div>
            <div id="groupDisplay" class="group-display hidden">
                <div id="groupTitle" class="group-title"></div>
                <div id="groupMembers" class="group-members"></div>
            </div>
            <div id="startChallengeContainer" class="hidden">
                <button id="startChallengeBtn" class="btn-fun">å¼€å§‹æŒ‘æˆ˜</button>
            </div>
        </div>

        <div id="challengeSection" class="section hidden">
            <div class="status-bar">
                <div id="progress" class="status-item">ç¬¬ 1/10 é¢˜</div>
                <div id="score" class="status-item">å¾—åˆ†: 0</div>
                <div id="timer" class="timer">10</div>
            </div>
            
            <div id="questionCard" class="question-card">
                <p id="questionText" class="question-text"></p>
                <div id="optionsContainer" class="options"></div>
            </div>
            
            <div id="actionButtons" class="hidden">
                <div class="button-group">
                    <button id="nextQuestion" class="btn-fun">ä¸‹ä¸€é¢˜</button>
                    <button id="restart" class="btn-fun">é‡æ–°å¼€å§‹</button>
                </div>
            </div>
        </div>

        <footer>
            ç®¡æµ©ç„¶ è®¾è®¡åˆ¶ä½œ V5.0
        </footer>
    </div>

    <div id="answerPopup" class="answer-popup">
        <h3>æ­£ç¡®ç­”æ¡ˆ</h3>
        <p id="correctAnswerText"></p>
    </div>

    <div id="resultOverlay" class="result-overlay">
        <div class="result-card">
            <div id="resultGroup" class="result-group"></div>
            <div id="resultScore" class="result-score"></div>
            <div id="resultMessage" class="result-message"></div>
            <button id="continueNext" class="btn-fun">ç»§ç»­ä¸‹ä¸€ç»„</button>
        </div>
    </div>

    <script>
        // éŸ³æ•ˆç”Ÿæˆå™¨
        class SoundEffects {
            constructor() {
                this.audioContext = null;
                this.initAudio();
            }

            initAudio() {
                try {
                    window.AudioContext = window.AudioContext || window.webkitAudioContext;
                    this.audioContext = new AudioContext();
                } catch(e) {
                    console.log('Web Audio API not supported');
                }
            }

            playTick() {
                if (!this.audioContext) return;
                const oscillator = this.audioContext.createOscillator();
                const gainNode = this.audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(this.audioContext.destination);
                
                oscillator.frequency.value = 800;
                oscillator.type = 'sine';
                
                gainNode.gain.setValueAtTime(0.3, this.audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, this.audioContext.currentTime + 0.1);
                
                oscillator.start(this.audioContext.currentTime);
                oscillator.stop(this.audioContext.currentTime + 0.1);
            }

            playCorrect() {
                if (!this.audioContext) return;
                const notes = [523, 659, 784]; // C, E, G
                notes.forEach((freq, i) => {
                    setTimeout(() => {
                        const oscillator = this.audioContext.createOscillator();
                        const gainNode = this.audioContext.createGain();
                        
                        oscillator.connect(gainNode);
                        gainNode.connect(this.audioContext.destination);
                        
                        oscillator.frequency.value = freq;
                        oscillator.type = 'sine';
                        
                        gainNode.gain.setValueAtTime(0.3, this.audioContext.currentTime);
                        gainNode.gain.exponentialRampToValueAtTime(0.01, this.audioContext.currentTime + 0.3);
                        
                        oscillator.start(this.audioContext.currentTime);
                        oscillator.stop(this.audioContext.currentTime + 0.3);
                    }, i * 100);
                });
            }

            playWrong() {
                if (!this.audioContext) return;
                const oscillator = this.audioContext.createOscillator();
                const gainNode = this.audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(this.audioContext.destination);
                
                oscillator.frequency.value = 200;
                oscillator.type = 'sawtooth';
                
                gainNode.gain.setValueAtTime(0.3, this.audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, this.audioContext.currentTime + 0.5);
                
                oscillator.start(this.audioContext.currentTime);
                oscillator.stop(this.audioContext.currentTime + 0.5);
            }

            playTimeout() {
                if (!this.audioContext) return;
                const oscillator = this.audioContext.createOscillator();
                const gainNode = this.audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(this.audioContext.destination);
                
                oscillator.frequency.value = 300;
                oscillator.type = 'triangle';
                
                gainNode.gain.setValueAtTime(0.3, this.audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, this.audioContext.currentTime + 0.8);
                
                oscillator.start(this.audioContext.currentTime);
                oscillator.stop(this.audioContext.currentTime + 0.8);
            }

            playExcellent() {
                if (!this.audioContext) return;
                const notes = [523, 659, 784, 1047]; // C, E, G, High C
                notes.forEach((freq, i) => {
                    setTimeout(() => {
                        const oscillator = this.audioContext.createOscillator();
                        const gainNode = this.audioContext.createGain();
                        
                        oscillator.connect(gainNode);
                        gainNode.connect(this.audioContext.destination);
                        
                        oscillator.frequency.value = freq;
                        oscillator.type = 'sine';
                        
                        gainNode.gain.setValueAtTime(0.3, this.audioContext.currentTime);
                        gainNode.gain.exponentialRampToValueAtTime(0.01, this.audioContext.currentTime + 0.2);
                        
                        oscillator.start(this.audioContext.currentTime);
                        oscillator.stop(this.audioContext.currentTime + 0.2);
                    }, i * 50);
                });
            }

            playGood() {
                if (!this.audioContext) return;
                const notes = [523, 659, 784]; // C, E, G
                notes.forEach((freq, i) => {
                    setTimeout(() => {
                        const oscillator = this.audioContext.createOscillator();
                        const gainNode = this.audioContext.createGain();
                        
                        oscillator.connect(gainNode);
                        gainNode.connect(this.audioContext.destination);
                        
                        oscillator.frequency.value = freq;
                        oscillator.type = 'sine';
                        
                        gainNode.gain.setValueAtTime(0.25, this.audioContext.currentTime);
                        gainNode.gain.exponentialRampToValueAtTime(0.01, this.audioContext.currentTime + 0.25);
                        
                        oscillator.start(this.audioContext.currentTime);
                        oscillator.stop(this.audioContext.currentTime + 0.25);
                    }, i * 75);
                });
            }

            playEncourage() {
                if (!this.audioContext) return;
                const notes = [392, 440, 494]; // G, A, B
                notes.forEach((freq, i) => {
                    setTimeout(() => {
                        const oscillator = this.audioContext.createOscillator();
                        const gainNode = this.audioContext.createGain();
                        
                        oscillator.connect(gainNode);
                        gainNode.connect(this.audioContext.destination);
                        
                        oscillator.frequency.value = freq;
                        oscillator.type = 'sine';
                        
                        gainNode.gain.setValueAtTime(0.2, this.audioContext.currentTime);
                        gainNode.gain.exponentialRampToValueAtTime(0.01, this.audioContext.currentTime + 0.3);
                        
                        oscillator.start(this.audioContext.currentTime);
                        oscillator.stop(this.audioContext.currentTime + 0.3);
                    }, i * 100);
                });
            }
        }

        // åˆå§‹åŒ–éŸ³æ•ˆ
        const soundEffects = new SoundEffects();

        // å­¦ç”Ÿåå•
        const studentNames = [
            "è”¡æº", "è”¡å­çƒ¨", "é™ˆæ–‡å‡¯", "ä»£å“²æ—­", "æ®µæ¯“æ˜Š", "å†¯ä¿Šæ·‡", "é¡¾ç‘é‘«", "ç®¡æµ©ç„¶", 
            "ææ˜¶é”", "æç‰§æ‰¿", "æç€›åš", "åˆ˜å­é“–", "å¢æ€åš", "ç¼ªå¥‡", "æ™®é’°æ·®", "é’±å“ç† ", 
            "æ²ˆæŸ¯è‰¯", "è°­é“‚ç¦¹", "å”é–æ’", "å´èŠƒå¸Œ", "å¾æ³½å®", "è®¸æ™¯æ£‹", "è®¸ç‘éºŸ", "å¼ æ€€è°¦", 
            "èµµå®¸æ¥¦", "èµµæµ©ç„¶", "èµµå¥•å¸†", "è¾¹ç¥èŒ", "æ›¹æ¶µæ·‡", "ä»˜æ–‡è±", "é«˜æ˜•è‹’", "é«˜æ¢“æ›¦", 
            "éŸ©æ¬£éœ", "ææ²…æ´¢", "åˆ˜æ€å¨´", "åˆ˜æ›œè€", "æ ¾å­Ÿæ¾„", "å­Ÿåº­è°–", "è«äºˆ", "å®‹æ˜“æ¡“", 
            "è‹æ²è¾°", "å”ç•…", "ç‹éŸµæ£‹", "å´æ²…ç‚", "è®¸æ¢“æ©", "æ¨é›…æ¶µ", "èµµå¸Œç¿", "å‘¨æ²«", 
            "éƒ­å®¸å®‡", "æç‚œåš", "æ¨å­ç„¶", "æ¨å­æ™¨", "å¼ æ©ç¡•", "èµµå©‰è"
        ];

        // é¢˜åº“ - æ‰©å……ç‰ˆ
        const questions = [
            // åŸºç¡€é¢˜ç›®
            {q: "ã€Šçˆ±çš„æ•™è‚²ã€‹çš„ä½œè€…æ˜¯è°ï¼Ÿ", opts: ["äºšç±³å¥‘æ–¯", "æ‰˜å°”æ–¯æ³°", "é›¨æœ", "ä½†ä¸"], a: 0, explanation: "ã€Šçˆ±çš„æ•™è‚²ã€‹æ˜¯æ„å¤§åˆ©ä½œå®¶äºšç±³å¥‘æ–¯çš„ä»£è¡¨ä½œã€‚"},
            {q: "ã€Šçˆ±çš„æ•™è‚²ã€‹æ˜¯å“ªä¸ªå›½å®¶çš„ä½œå“ï¼Ÿ", opts: ["æ„å¤§åˆ©", "æ³•å›½", "ä¿„ç½—æ–¯", "è‹±å›½"], a: 0, explanation: "è¿™æ˜¯ä¸€éƒ¨æ„å¤§åˆ©å„¿ç«¥æ–‡å­¦ä½œå“ã€‚"},
            {q: "ã€Šçˆ±çš„æ•™è‚²ã€‹å…¨ä¹¦å…±æœ‰å¤šå°‘ç« èŠ‚ï¼Ÿ", opts: ["100ç« ", "50ç« ", "80ç« ", "120ç« "], a: 0, explanation: "ã€Šçˆ±çš„æ•™è‚²ã€‹å…¨ä¹¦å…±100ç« ï¼Œé‡‡ç”¨æ—¥è®°ä½“å½¢å¼å†™æˆã€‚"},
            {q: "ã€Šçˆ±çš„æ•™è‚²ã€‹åŸåæ˜¯ä»€ä¹ˆï¼Ÿ", opts: ["Cuore", "Amore", "Vita", "Scuola"], a: 0, explanation: "ã€Šçˆ±çš„æ•™è‚²ã€‹æ„å¤§åˆ©è¯­åŸåæ˜¯Cuoreï¼Œæ„ä¸º'å¿ƒ'ã€‚"},
            {q: "ã€Šçˆ±çš„æ•™è‚²ã€‹é¦–æ¬¡å‡ºç‰ˆäºå“ªä¸€å¹´ï¼Ÿ", opts: ["1886å¹´", "1890å¹´", "1880å¹´", "1895å¹´"], a: 0, explanation: "ã€Šçˆ±çš„æ•™è‚²ã€‹é¦–æ¬¡å‡ºç‰ˆäº1886å¹´ã€‚"},
            
            // åŸæœ‰é¢˜ç›®
            {q: "ä¸»è§’æ©é‡Œç§‘æ‰€åœ¨çš„ä¸‰å¹´çº§ç­çº§å…±æœ‰å¤šå°‘åå­¦ç”Ÿï¼Ÿ", opts: ["54 äºº","48 äºº","60 äºº","50 äºº"], a: 0, explanation: "ä¹¦ä¸­æ˜ç¡®æåˆ°æ©é‡Œç§‘è¢«åˆ†åˆ°ä½©å°”åšå°¼è€å¸ˆç­ä¸Šï¼Œå…¨ç­å…±æœ‰äº”åå››åå­¦ç”Ÿã€‚"},
            {q: "å§‹ç»ˆä¿æŠ¤é©¼èƒŒåŒå­¦å†…åˆ©ã€é˜»æ­¢ä»–äººæ¬ºè´Ÿä»–çš„å–„è‰¯ç”·å­©æ˜¯è°ï¼Ÿ", opts: ["åŠ ç½—å†…","å¾·ç½—è¥¿","æŸ¯è±è’‚","å°ç“¦åŒ "], a: 0, explanation: "åŠ ç½—å†…èº«æé«˜å¤§ã€å†…å¿ƒå–„è‰¯ï¼Œä¸»åŠ¨ä¿æŠ¤è¢«æ¬ºè´Ÿçš„é©¼èƒŒåŒå­¦å†…åˆ©ã€‚"},
            {q: "ã€Šå¸•å¤šç“¦çš„å°çˆ±å›½è€…ã€‹ä¸­ï¼Œå°‘å¹´ä¸ºä½•æ‹’ç»å¤–å›½ä¹˜å®¢çš„æ–½èˆï¼Ÿ", opts: ["ä¹˜å®¢è¾±éª‚æ„å¤§åˆ©","æ–½èˆé‡‘é¢å¤ªå°‘","ä¸æƒ³æ¥å—é™Œç”Ÿäººçš„ä¸œè¥¿","è¦ç•™ç»™æ›´éœ€è¦çš„äºº"], a: 0, explanation: "å¤–å›½ä¹˜å®¢åœ¨èˆ¹ä¸Šè¾±éª‚æ„å¤§åˆ©ï¼Œå°‘å¹´è™½è´«å›°å´æå…·çˆ±å›½æƒ…æ€€ã€‚"},
            {q: "ç­çº§é‡Œå„ç§‘æˆç»©å§‹ç»ˆç¬¬ä¸€ã€è¢«å…¨ç­åŒå­¦æ•¬ä½©çš„åŒå­¦æ˜¯ï¼Ÿ", opts: ["å¾·ç½—è¥¿","æ–¯å¡”å°”è’‚","åŠ ç½—å†…","æŸ¯è±è’‚"], a: 0, explanation: "å¾·ç½—è¥¿èªæ˜å¥½å­¦ã€è®°å¿†åŠ›è¶…ç¾¤ï¼Œå„ç§‘å‡æ˜¯ç¬¬ä¸€ã€‚"},
            {q: "å°ç“¦åŒ æœ€å…·æ ‡å¿—æ€§ã€æ€»èƒ½é€—ç¬‘å¤§å®¶çš„æŠ€èƒ½æ˜¯ä»€ä¹ˆï¼Ÿ", opts: ["åšé‡å…”é¬¼è„¸","æ­å»ºç§¯æœ¨å¡”","æ¨¡ä»¿åŠ¨ç‰©å«å£°","å¿«é€Ÿç³»é‹å¸¦"], a: 0, explanation: "å°ç“¦åŒ æ“…é•¿åšé‡å…”é¬¼è„¸ï¼Œæ¯æ¬¡åšéƒ½ä¼šè®©åŒå­¦ä»¬å¼€æ€€å¤§ç¬‘ã€‚"},
            {q: "ã€Šä¼¦å·´ç¬¬çš„å°å“¨å…µã€‹ä¸­ï¼Œå°‘å¹´ä¸ºä¾¦å¯Ÿæ•Œæƒ…çˆ¬ä¸Šäº†ä»€ä¹ˆæ ‘ï¼Ÿ", opts: ["æ¬§æ´²ç™½èœ¡æ ‘","æ¾æ ‘","æ©¡æ ‘","æ¨æ ‘"], a: 0, explanation: "å°‘å¹´ä¸ºå‘æ„å¤§åˆ©å†›é˜Ÿä¼ é€’å¥¥åœ°åˆ©å†›é˜Ÿçš„åŠ¨å‘ï¼Œçˆ¬ä¸Šäº†æ‰“è°·åœºå‰çš„é«˜å¤§æ¬§æ´²ç™½èœ¡æ ‘ã€‚"},
            {q: "é“åŒ çš„å„¿å­æ™®è±å…‹è¥¿é•¿æœŸé­å—çš„å®¶åº­å›°å¢ƒæ˜¯ä»€ä¹ˆï¼Ÿ", opts: ["çˆ¶äº²é…—é…’æ‰“éª‚","å®¶å¢ƒè´«å¯’ç¼ºè¡£å°‘é£Ÿ","æ¯äº²é‡ç—…å§åºŠ","ç‹¬è‡ªç…§é¡¾å¹´å¹¼å¼Ÿå¦¹"], a: 0, explanation: "æ™®è±å…‹è¥¿çš„çˆ¶äº²é…—é…’æˆæ€§ï¼Œå¸¸æ— æ•…æ‰“éª‚ä»–ï¼Œè¿˜ç ´åä»–çš„ä¹¦æœ¬å’Œä½œä¸šã€‚"},
            {q: "åŠ ç½—å†…çš„æ¯äº²å»ä¸–åï¼Œè€å¸ˆç”¨å“ªä½ä¼Ÿäººçš„æ–‡å­—å®‰æ…°ä»–ï¼Ÿ", opts: ["æœ±å¡ä½©ãƒ»é©¬å¿—å°¼","è‰¾å¾·è’™å¤šãƒ»å¾·ãƒ»äºšç±³å¥‘æ–¯","åŠ é‡Œæ³¢ç¬¬","å¯Œå…°å…‹æ—"], a: 0, explanation: "è€å¸ˆæœ—è¯»æœ±å¡ä½©ãƒ»é©¬å¿—å°¼å…³äºæ¯çˆ±ã€åšå¼ºä¸è´£ä»»çš„æ–‡å­—ã€‚"},
            {q: "ã€Šä½›ç½—ä¼¦è¨å°æŠ„å†™å‘˜ã€‹ä¸­ï¼Œæœ±å¡ä½©æ·±å¤œå·å·å¸®çˆ¶äº²æŠ„å†™çš„æ˜¯ä»€ä¹ˆï¼Ÿ", opts: ["ä¿¡å°æ”¶ä»¶äººåœ°å€","å•†ä¸šè´¦æœ¬","å®¶ä¹¦","æ–‡ç« ç¨¿ä»¶"], a: 0, explanation: "æœ±å¡ä½©çš„çˆ¶äº²æ·±å¤œæŠ„å†™å¯„ç»™è®¢æˆ·çš„ä¿¡å°åœ°å€è¡¥è´´å®¶ç”¨ã€‚"},
            {q: "æ©é‡Œç§‘æœ€ç»ˆè¦ä¸ä¸‰å¹´çº§åŒå­¦ä»¬æ°¸ä¹…å‘Šåˆ«çš„åŸå› æ˜¯ä»€ä¹ˆï¼Ÿ", opts: ["çˆ¶äº²å·¥ä½œè°ƒåŠ¨éœ€æ¬è¿","æ¯•ä¸šå‡å…¥ä¸­å­¦","å­¦æ ¡åˆå¹¶æ¬è¿","å…¨å®¶ç§»æ°‘å›½å¤–"], a: 0, explanation: "æ©é‡Œç§‘çš„çˆ¶äº²å› å·¥ä½œåŸå› è¦ç¦»å¼€éƒ½çµï¼Œå…¨å®¶éœ€ä¸€åŒæ¬è¿ã€‚"},
            {q: "ä»ç–¾é©°çš„é©¬è½¦è½¦è½®ä¸‹æ•‘ä¸‹ä¸€å¹´çº§å°ç”·ç”Ÿçš„åŒå­¦æ˜¯è°ï¼Ÿ", opts: ["ç½—è´æ","åŠ ç½—å†…","å¾·ç½—è¥¿","æŸ¯è±è’‚"], a: 0, explanation: "ç‚®å…µä¸Šå°‰çš„å„¿å­ç½—è´æï¼Œçœ‹åˆ°ä¸€å¹´çº§å°ç”·ç”Ÿæ‘”å€’åœ¨é©¬è·¯ä¸­é—´ï¼Œä¸é¡¾å±é™©å†²è¿‡å»æ•‘äººã€‚"},
            {q: "ç­çº§é‡Œå–œæ¬¢æ”¶é›†é‚®ç¥¨ã€è¿˜ä¼šè´©å–å°ç‰©ä»¶çš„åŒå­¦æ˜¯ï¼Ÿ", opts: ["åŠ ç½—é","åŠ ç½—å†…","å°ç“¦åŒ ","æ–¯å¡”å°”è’‚"], a: 0, explanation: "åŠ ç½—éç˜¦é«˜ä¸ªã€é•¿ç€çŒ«å¤´é¹°é¼»å­ï¼Œæ”¶é›†é‚®ç¥¨ä¸¤å¹´å¤šã€‚"},
            {q: "ã€Šæ’’ä¸é¼“æ‰‹ã€‹ä¸­ï¼Œé¼“æ‰‹ä¸ºä¼ é€’æ±‚æ´çº¸æ¡ä»˜å‡ºäº†ä»€ä¹ˆä»£ä»·ï¼Ÿ", opts: ["å¤±å»ä¸€æ¡è…¿","é‡ä¼¤æ‰‹è‡‚","å¤±æ˜ä¸€åªçœ¼","å¬åŠ›å—æŸ"], a: 0, explanation: "æ’’ä¸é¼“æ‰‹ä¸ºç»™æ„å¤§åˆ©å†›é˜Ÿä¼ é€’æ±‚æ´çº¸æ¡ï¼Œåœ¨å¥”è·‘ä¸­è¢«æ•Œäººå­å¼¹å‡»ä¸­ã€‚"},
            {q: "æŸ¯è±è’‚ä¸€è¾¹å¸®åŠ©çˆ¶äº²æ‰“ç†æœ¨æŸ´ç”Ÿæ„ï¼Œä¸€è¾¹åšæŒå­¦ä¹ ï¼Œä»–çš„ç‰¹ç‚¹æ˜¯ï¼Ÿ", opts: ["ä¹è§‚å‹¤å¥‹","æ²‰é»˜å¯¡è¨€","éª„å‚²è‡ªè´Ÿ","èƒ†å°æ€¯æ‡¦"], a: 0, explanation: "æŸ¯è±è’‚æ˜¯æœ¨æŸ´é”€å”®å•†çš„å„¿å­ï¼Œæ¯å¤©å¸®å¿™æ¬è¿æœ¨æŸ´ã€ç…§é¡¾ç”Ÿç—…çš„æ¯äº²ã€‚"},
            {q: "æ©é‡Œç§‘çš„äºŒå¹´çº§å¥³è€å¸ˆæœ€è®©äººå°è±¡æ·±åˆ»çš„å“è´¨æ˜¯ä»€ä¹ˆï¼Ÿ", opts: ["æ¸©æŸ”å–„è‰¯ã€å…³çˆ±å­¦ç”Ÿ","ä¸¥å‰åˆ»æ¿ã€è¦æ±‚ä¸¥æ ¼","å¹½é»˜é£è¶£ã€å–„äºå¼•å¯¼","çŸ¥è¯†æ¸Šåšã€è®²è¯¾ç”ŸåŠ¨"], a: 0, explanation: "æ©é‡Œç§‘çš„äºŒå¹´çº§å¥³è€å¸ˆæ¸©æŸ”å–„è‰¯ï¼Œå§‹ç»ˆç‰µæŒ‚å­¦ç”Ÿã€‚"},
            {q: "ã€ŠçƒŸç­’æ¸…æ‰«å·¥ã€‹ä¸­ï¼Œå°çƒŸç­’æ¸…æ‰«å·¥ä¸¢å¤±çš„å·¥é’±æ˜¯å¤šå°‘ä¸ªå¸ï¼Ÿ", opts: ["ä¸‰åä¸ª","äºŒåä¸ª","å››åä¸ª","åäº”ä¸ª"], a: 0, explanation: "å°çƒŸç­’æ¸…æ‰«å·¥æ‰“æ‰«çƒŸç­’æŒ£äº†ä¸‰åä¸ªå¸ï¼Œå´ä»è¡£æœå…œçš„çªŸçª¿æ¼ä¸¢äº†ã€‚"},
            {q: "ä¸‡çµèŠ‚æ—¶ï¼Œæ¯äº²å‘Šè¯‰æ©é‡Œç§‘è¦çºªå¿µçš„æ­»è€…ä¸åŒ…æ‹¬ä»¥ä¸‹å“ªç±»äººï¼Ÿ", opts: ["è¿œæ–¹çš„é™Œç”Ÿäºº","ä¸ºå­©å­ç‰ºç‰²çš„äºº","è¿‡åº¦åŠ³ç´¯çš„å¥³è€å¸ˆ","æ•‘å­©å­çš„åŒ»ç”Ÿ"], a: 0, explanation: "æ¯äº²è®©æ©é‡Œç§‘çºªå¿µä¸ºå­©å­ç‰ºç‰²çš„äººã€è¿‡åº¦åŠ³ç´¯çš„å¥³è€å¸ˆã€æ•‘å­©å­çš„åŒ»ç”Ÿç­‰ã€‚"},
            {q: "ã€Šç…¤è´©ä¸ç»…å£«ã€‹ä¸­ï¼Œç…¤è´©çš„å„¿å­åå«ä»€ä¹ˆï¼Ÿ", opts: ["è´è’‚","æŸ¯ç½—è¥¿","å†…åˆ©","æ™®è±å…‹è¥¿"], a: 0, explanation: "ç…¤è´©çš„å„¿å­æ˜¯è´è’‚ï¼Œå› å¡æ´›ãƒ»è¯ºæ¯”æ–¯å˜²ç¬‘ä»–çˆ¶äº²æ˜¯ç©·å…‰è›‹ã€‚"},
            {q: "æ²ƒè’‚å°¼å› å‘è°ç‚«è€€æœé¥°è€Œæ„Ÿåˆ°ç¾æ„§ï¼Ÿ", opts: ["ç›²ç«¥","å°ç“¦åŒ ","æŸ¯è±è’‚","æ™®è±å…‹è¥¿"], a: 0, explanation: "æ²ƒè’‚å°¼ç©¿ç€åä¸½æœé¥°å‘é‚»åº§å­©å­ç‚«è€€ï¼Œåæ¥å‘ç°å¯¹æ–¹æ˜¯ç›²ç«¥ã€‚"},
            {q: "ã€Šä¸€ä¸ªé›ªçƒã€‹ä¸­ï¼ŒåŠ ç½—éæ‰”çš„é›ªçƒæ„å¤–ä¼¤åˆ°äº†è°ï¼Ÿ", opts: ["äº”æ¥¼çš„è€èŒå‘˜","äºŒå¹´çº§çš„å­©å­","å¥³è€å¸ˆ","å‹¤æ‚å·¥"], a: 0, explanation: "åŠ ç½—éæ‰”çš„é›ªçƒæ„å¤–ä¼¤åˆ°äº†æ©é‡Œç§‘å®¶æ¥¼ä¸Šäº”æ¥¼çš„è€èŒå‘˜ã€‚"},
            {q: "ä»£è¯¾è€å¸ˆæœ€åˆä¸Šè¯¾æ—¶æ— æ³•ç»´æŒç§©åºï¼Œä¸»è¦åŸå› æ˜¯ä»€ä¹ˆï¼Ÿ", opts: ["å¤ªæ¸©å’Œ","å¤ªä¸¥å‰","ç»éªŒä¸è¶³","å£°éŸ³å¤ªå°"], a: 0, explanation: "ä»£è¯¾è€å¸ˆæ€§æ ¼æ¸©å’Œï¼Œé¢å¯¹å­¦ç”Ÿçš„åµé—¹åªåå¤è¯·æ±‚å®‰é™ã€‚"},
            {q: "æ–¯å¡”å°”è’‚çš„å°å°å›¾ä¹¦é¦†ä¸­ï¼Œä¹¦æ¶çš„æè´¨æ˜¯ä»€ä¹ˆï¼Ÿ", opts: ["æ ¸æ¡ƒæœ¨","æ¾æœ¨","æ©¡æœ¨","æ‰æœ¨"], a: 0, explanation: "æ–¯å¡”å°”è’‚çš„çˆ¶äº²ä¸ºæ”¯æŒä»–çš„çˆ±å¥½ï¼Œä¹°äº†ä¸€ä¸ªæ ¸æ¡ƒæœ¨æè´¨çš„ä¹¦æŸœã€‚"},
            {q: "æ™®è±å…‹è¥¿è·å¾—å¥–ç« é™¤äº†åŠŸè¯¾å¥½ï¼Œæ›´é‡è¦çš„åŸå› æ˜¯ä»€ä¹ˆï¼Ÿ", opts: ["å­é¡ºã€åšå¼º","å®¶å¢ƒè´«å›°","äººç¼˜å¥½","æ“…é•¿æ‰‹å·¥"], a: 0, explanation: "æ™®è±å…‹è¥¿è™½å®¶å¢ƒè´«å›°ã€å¸¸é­çˆ¶äº²æ‰“éª‚ï¼Œå´å§‹ç»ˆå­é¡ºã€åšå¼ºã€‚"},
            {q: "æ©é‡Œç§‘å†³å®šæŠŠå°ç«è½¦é€ç»™æ™®è±å…‹è¥¿æ—¶ï¼Œæ˜¯è°ç”¨çº¸æ¡é¼“åŠ±ä»–ï¼Ÿ", opts: ["çˆ¶äº²","æ¯äº²","å§å§","è€å¸ˆ"], a: 0, explanation: "æ©é‡Œç§‘çŠ¹è±«æ˜¯å¦é€å°ç«è½¦æ—¶ï¼Œçˆ¶äº²ç”¨é“…ç¬”å†™çº¸æ¡æé†’ä»–ã€‚"},
            {q: "ç›²ç«¥å­¦æ ¡çš„è€å¸ˆè¯´ï¼Œç›²ç«¥æœ€çƒ­çˆ±çš„äº‹ç‰©æ˜¯ä»€ä¹ˆï¼Ÿ", opts: ["éŸ³ä¹","ç»˜ç”»","é˜…è¯»","æ‰‹å·¥"], a: 0, explanation: "è€å¸ˆæåˆ°éŸ³ä¹æ˜¯ç›²ç«¥çš„å¿«ä¹ä¸ç”Ÿå‘½ï¼Œä»–ä»¬èƒ½ä»éŸ³ä¹ä¸­è·å¾—æ…°è—‰ã€‚"},
            {q: "å¤œæ ¡ä¸Šè¯¾çš„å·¥äººä»¬ä¸­ï¼Œå°ç“¦åŒ çš„çˆ¶äº²ååœ¨å“ªä¸ªä½ç½®ï¼Ÿ", opts: ["å°ç“¦åŒ çš„åº§ä½","ç¬¬ä¸€æ’ä¸­é—´","æœ€åä¸€æ’è§’è½","è®²å°æ—è¾¹"], a: 0, explanation: "å°ç“¦åŒ çš„çˆ¶äº²ç‰¹æ„è¯·æ±‚æ ¡é•¿ï¼Œååœ¨è‡ªå·±å„¿å­å¹³æ—¶ä¸Šè¯¾çš„åº§ä½ä¸Šã€‚"},
            {q: "ä¸ƒåå…«å·çŠ¯äººï¼ˆæŸ¯ç½—è¥¿çš„çˆ¶äº²ï¼‰é€ç»™è€å¸ˆçš„å¢¨æ°´ç“¶æ˜¯ä»€ä¹ˆæè´¨ï¼Ÿ", opts: ["æœ¨å¤´","é™¶ç“·","ç»ç’ƒ","é‡‘å±"], a: 0, explanation: "ä¸ƒåå…«å·çŠ¯äººåœ¨ç‹±ä¸­ç”¨é’‰å­å°–å¤´é›•åˆ»æœ¨å¤´ï¼Œåˆ¶æˆé”¥å½¢çš„æœ¨åˆ¶å¢¨æ°´ç“¶ã€‚"},
            {q: "ã€Šä¸€ä¸ªå¤­æŠ˜çš„å­©å­ã€‹ä¸­ï¼Œå»ä¸–çš„å­©å­æ˜¯å“ªä¸ªå¹´çº§çš„å­¦ç”Ÿï¼Ÿ", opts: ["äºŒå¹´çº§","ä¸‰å¹´çº§","ä¸€å¹´çº§","å››å¹´çº§"], a: 0, explanation: "å¤­æŠ˜çš„å­©å­æ˜¯äºŒå¹´çº§å­¦ç”Ÿï¼Œä¹Ÿæ˜¯æ©é‡Œç§‘å¼Ÿå¼Ÿçš„åŒå­¦ã€‚"},
            {q: "ä¸‰æœˆåå››æ—¥é¢å¥–æ—¶ï¼Œå¡æ‹‰å¸ƒé‡Œäºšç”·å­©å…‹æ‹‰å¥‡ä»£è¡¨å“ªä¸ªåœ°åŒºï¼Ÿ", opts: ["å¡æ‹‰å¸ƒé‡Œäºš","çš®åŸƒè’™ç‰¹","ä¼¦å·´ç¬¬","æ’’ä¸å²›"], a: 0, explanation: "æ ¡é•¿é€‰æ‹©å…‹æ‹‰å¥‡ä½œä¸ºå¡æ‹‰å¸ƒé‡Œäºšåœ°åŒºçš„ä»£è¡¨ï¼Œä¸å…¶ä»–åœ°åŒºçš„å­©å­ä¸€èµ·ä¸ºè·å¥–åŒå­¦é¢å¥–ã€‚"},
            {q: "æŸ¯è±è’‚çš„çˆ¶äº²åœ¨ä¸€å…«å…­å…­å¹´æˆ˜äº‰ä¸­ï¼Œå±äºå“ªä¸ªå›¢ï¼Ÿ", opts: ["å››åä¹å›¢ç¬¬å››è¥","åå…­å¸ˆ","ç¬¬å››åä¹å›¢","ç¬¬å…«è¥"], a: 0, explanation: "æŸ¯è±è’‚çš„çˆ¶äº²æ›¾æ˜¯å››åä¹å›¢ç¬¬å››è¥çš„å£«å…µï¼Œåœ¨ç¿è´æ‰˜äº²ç‹çš„æ–¹é˜µä¸­ä½œæˆ˜ã€‚"},
            {q: "å¹¼å„¿å›­çš„å­©å­ä»¬åƒé¥­æ—¶ï¼Œç”¨ä»€ä¹ˆå®¹å™¨ç››ç±³é¥­å’Œé’è±†ï¼Ÿ", opts: ["é»‘ç¢—","ç“·ç¢—","é“ç¢—","æœ¨ç¢—"], a: 0, explanation: "å¹¼å„¿å›­çš„é•¿æ¡Œä¸Šæœ‰å¾ˆå¤šåœ†æ´ï¼Œæ¯ä¸ªæ´é‡Œæ”¾ç€ä¸€ä¸ªé»‘ç¢—ï¼Œç››æ»¡ç±³é¥­å’Œé’è±†ã€‚"},
            {q: "æ©é‡Œç§‘çˆ¶äº²çš„å°å­¦è€å¸ˆåå«ä»€ä¹ˆï¼Ÿ", opts: ["æ¸©ç´ä½ãƒ»å…‹ç½—å¡è’‚","æœ±å¡ä½©ãƒ»é©¬å¿—å°¼","è‰¾å¾·è’™å¤šãƒ»äºšç±³å¥‘æ–¯","åŠ é‡Œæ³¢ç¬¬"], a: 0, explanation: "æ©é‡Œç§‘çˆ¶äº²çš„å°å­¦è€å¸ˆæ˜¯æ¸©ç´ä½ãƒ»å…‹ç½—å¡è’‚ï¼Œå…«åå››å²æ—¶ä»è¢«æ•™è‚²éƒ¨æˆäºˆå…­åå¹´æ•™è‚²æˆå°±å¥–ã€‚"},
            {q: "æ‚£ä½å»ç—…å­¦æ ¡çš„å­©å­ä»¬åšä½“æ“æ—¶ï¼Œå¸¸éœ€è¦ä»€ä¹ˆè¾…åŠ©å·¥å…·ï¼Ÿ", opts: ["å¤¹æ¿","æ‹æ–","å‡³å­","ç»³å­"], a: 0, explanation: "ä½å»ç—…å­©å­çš„è…¿å¤šå˜å½¢ï¼Œåšä½“æ“æ—¶éœ€åœ¨å¤¹æ¿è¾…åŠ©ä¸‹ä¼¸å±•è…¿éƒ¨ã€‚"},
            {q: "ã€Šç‰ºç‰²ã€‹ä¸­ï¼Œå¸Œå°”ç»´å¨…å’Œæ©é‡Œç§‘ä¸ºå¸®å®¶é‡Œçœé’±ï¼Œæ”¾å¼ƒäº†ä»€ä¹ˆç¤¼ç‰©ï¼Ÿ", opts: ["æ‰‡å­å’Œå½©ç¬”","å¨ƒå¨ƒå’Œç©å…·è½¦","æ•…äº‹ä¹¦å’Œç”»å†Œ","è£™å­å’Œå¸½å­"], a: 0, explanation: "å¸Œå°”ç»´å¨…æ”¾å¼ƒäº†æ¯äº²æ‰¿è¯ºçš„æ‰‡å­ï¼Œæ©é‡Œç§‘æ”¾å¼ƒäº†æƒ³è¦çš„å½©ç¬”ã€‚"},
            {q: "ã€Šç«ç¾ã€‹ä¸­ï¼Œä»ç€ç«æˆ¿å­é‡Œæ•‘å‡ºå¥³äººçš„æ¶ˆé˜²å‘˜é˜Ÿé•¿åå«ä»€ä¹ˆï¼Ÿ", opts: ["æœ±å¡ä½©ãƒ»ç½—æ¯”è¯º","é©¬å¯ãƒ»ç½—è¥¿","è·¯æ˜“å‰ãƒ»æŸ¯è±è’‚","å®‰ä¸œå°¼å¥¥ãƒ»åŠ ç½—å†…"], a: 0, explanation: "æ¶ˆé˜²å‘˜é˜Ÿé•¿æœ±å¡ä½©ãƒ»ç½—æ¯”è¯ºä¸é¡¾å±é™©çˆ¬ä¸Šæˆ¿é¡¶ï¼Œä»ç€ç«çš„æˆ¿å­é‡Œæ•‘å‡ºäº†æ‚¬åœ¨çª—å£çš„å¥³äººã€‚"},
            {q: "ã€Šä»äºšå¹³å®åˆ°å®‰ç¬¬æ–¯å±±è„‰ã€‹ä¸­ï¼Œé©¬å¯ä»çƒ­é‚£äºšå‡ºå‘ï¼Œå»å“ªä¸ªå›½å®¶æ‰¾æ¯äº²ï¼Ÿ", opts: ["é˜¿æ ¹å»·","ç¾å›½","æ³•å›½","è¥¿ç­ç‰™"], a: 0, explanation: "é©¬å¯çš„æ¯äº²åœ¨é˜¿æ ¹å»·çš„å¸ƒå®œè¯ºæ–¯è‰¾åˆ©æ–¯åšå·¥ï¼Œå¤±å»è”ç³»åï¼Œé©¬å¯ç‹¬è‡ªå‰å¾€é˜¿æ ¹å»·å¯»æ‰¾æ¯äº²ã€‚"},
            {q: "åŠ é‡Œæ³¢ç¬¬å‡ºç”Ÿåœ¨å“ªä¸ªåŸå¸‚ï¼Ÿ", opts: ["å°¼æ–¯","çƒ­é‚£äºš","ç½—é©¬","ä½›ç½—ä¼¦è¨"], a: 0, explanation: "åŠ é‡Œæ³¢ç¬¬æ˜¯æ„å¤§åˆ©ç»Ÿä¸€è¿åŠ¨çš„é‡è¦äººç‰©ï¼Œ1807å¹´å‡ºç”Ÿåœ¨å°¼æ–¯ã€‚"},
            {q: "å›½åº†é˜…å…µæ—¶ï¼Œæœ€å…ˆèµ°è¿‡å¹¿åœºçš„å…µç§æ˜¯ä»€ä¹ˆï¼Ÿ", opts: ["å†›æ ¡å£«å®˜ç”Ÿ","æ­¥å…µ","å·¥å…µ","éª‘å…µ"], a: 0, explanation: "å›½åº†é˜…å…µæ—¶ï¼Œæœ€å…ˆèµ°è¿‡å¹¿åœºçš„æ˜¯å†›æ ¡å£«å®˜ç”Ÿï¼Œä»–ä»¬å°†æˆä¸ºå·¥å…µå’Œç‚®å…µçš„å†›å®˜ã€‚"},
            {q: "'ä¸‰åäºŒåº¦'ç« èŠ‚ä¸­ï¼ŒæŸ¯è±è’‚å› ä¸ºæ—©ä¸Šå¸®çˆ¶äº²è¿æœ¨æŸ´ï¼Œå‡ ç‚¹å°±èµ·åºŠäº†ï¼Ÿ", opts: ["äº”ç‚¹é’Ÿ","å…­ç‚¹é’Ÿ","ä¸ƒç‚¹é’Ÿ","å…«ç‚¹é’Ÿ"], a: 0, explanation: "å¤©æ°”ç‚çƒ­æ—¶ï¼ŒæŸ¯è±è’‚æ¯å¤©æ—©ä¸Šäº”ç‚¹é’Ÿå°±èµ·æ¥å¸®çˆ¶äº²è¿æœ¨æŸ´ã€‚"},
            {q: "åŒå­¦ä»¬å»ä¹¡ä¸‹éƒŠæ¸¸æ—¶ï¼ŒåŠ ç½—å†…å¸¦äº†ä»€ä¹ˆé£Ÿç‰©ï¼Ÿ", opts: ["ç™½è‘¡è„é…’","é»‘é¢åŒ…","é¦™è‚ ","ç…®é¸¡è›‹"], a: 0, explanation: "éƒŠæ¸¸æ—¶åŠ ç½—å†…å¸¦äº†ä¸€ä¸ªç››ç€ç™½è‘¡è„é…’çš„è‘«èŠ¦ã€‚"},
            {q: "æ©é‡Œç§‘çš„å¥³è€å¸ˆå»ä¸–åï¼Œå“ªä¸ªç¾¤ä½“é€äº†é‡‘è‰²çš„åˆæ¬¢èŠ±åœˆï¼Ÿ", opts: ["å†å±Šå››å¹´çº§å¥³ç”Ÿ","äºŒå¹´çº§å­¦ç”Ÿ","å¤œæ ¡å­¦å‘˜","å¥³è€å¸ˆçš„å®¶äºº"], a: 0, explanation: "å†å±Šå››å¹´çº§å¥³ç”Ÿä¸ºçºªå¿µæ›¾ç»æ•™è¿‡å¥¹ä»¬çš„å¥³è€å¸ˆï¼Œé€äº†ä¸€ä¸ªå¤§é‡‘åˆæ¬¢èŠ±åœˆã€‚"},
            {q: "ã€Šæ²‰èˆ¹ã€‹ä¸­ï¼Œé©¬é‡Œå¥¥çš„ç›®çš„åœ°æ˜¯å“ªé‡Œï¼Ÿ", opts: ["å·´å‹’è«","é©¬è€³ä»–","å¸ƒå®œè¯ºæ–¯è‰¾åˆ©æ–¯","å›¾åº“æ›¼"], a: 0, explanation: "é©¬é‡Œå¥¥æ˜¯å­¤å„¿ï¼Œæ„å¤§åˆ©é¢†äº‹å°†ä»–é€å›å·´å‹’è«ï¼Œé‚£é‡Œæœ‰ä»–çš„è¿œäº²ã€‚"},
            {q: "æœŸæœ«è€ƒè¯•æ—¶ï¼Œç›‘è€ƒè€å¸ˆæŸ¯é˜¿è¿ªçš„ç‰¹ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ", opts: ["å£°éŸ³åƒç‹®å­å¼å´ä¸æƒ©ç½šäºº","ä¸¥å‰ä¸”çˆ±æ‰¹è¯„äºº","æ¸©å’Œä¸”å¸¸ç¬‘","å–œæ¬¢å‡ºéš¾é¢˜"], a: 0, explanation: "æŸ¯é˜¿è¿ªè€å¸ˆç•™ç€é»‘èƒ¡å­ï¼Œå£°éŸ³åƒç‹®å­å¼ï¼Œå´ä»ä¸å¯¹å­¦ç”Ÿå‘è„¾æ°”ã€‚"},
            {q: "ã€Šå‘Šåˆ«ã€‹æ—¶ï¼Œå†…åˆ©å› ä¸ºä»€ä¹ˆäº‹æ‹¥æŠ±åŠ ç½—å†…ï¼Ÿ", opts: ["æ„Ÿè°¢åŠ ç½—å†…ä¸€ç›´ä¿æŠ¤ä»–","åŠ ç½—å†…è¦è½¬å­¦","å†…åˆ©è¦æ¬å®¶","åŠ ç½—å†…å¸®ä»–è¡¥ä¹ "], a: 0, explanation: "åŠ ç½—å†…é•¿æœŸä¿æŠ¤å†…åˆ©ä¸è¢«æ¬ºè´Ÿï¼Œå‘Šåˆ«æ—¶å†…åˆ©æ„Ÿæ¿€ä¸å·²ï¼Œç´§ç´§æ‹¥æŠ±åŠ ç½—å†…ã€‚"},
            {q: "ã€Šæˆ‘çš„åŒå­¦æŸ¯è±è’‚ã€‹ä¸­ï¼ŒæŸ¯è±è’‚çš„çˆ¶äº²å¾—è¿‡å‡ æšå¥–ç« ï¼Ÿ", opts: ["ä¸‰æš","ä¸€æš","ä¸¤æš","å››æš"], a: 0, explanation: "æŸ¯è±è’‚çš„çˆ¶äº²æ›¾å‚åŠ ä¸€å…«å…­å…­å¹´æˆ˜äº‰ï¼Œå¾—è¿‡ä¸‰æšå¥–ç« ã€‚"},
            {q: "ã€Šè™šè£å¿ƒã€‹ä¸­ï¼Œæ²ƒè’‚å°¼å‘ç›²ç«¥ç‚«è€€çš„ç‰©å“ä¸åŒ…æ‹¬ä»¥ä¸‹å“ªä»¶ï¼Ÿ", opts: ["ä¹¦åŒ…","å±±ç¾Šçš®é´","ä¸ç»¸è¡£æœ","é‡‘æ‰‹è¡¨"], a: 0, explanation: "æ²ƒè’‚å°¼ç©¿ç€å±±ç¾Šçš®é´ã€ä¸ç»¸è¡£æœï¼Œæˆ´ç€é‡‘æ‰‹è¡¨ï¼Œå‘ç›²ç«¥ç‚«è€€ã€‚"},
            {q: "ã€Šä¸€ä¸ªé›ªçƒã€‹ä¸­ï¼ŒåŠ ç½—éä¸»åŠ¨æ‰¿è®¤é”™è¯¯åï¼Œå—ä¼¤çš„è€èŒå‘˜åšäº†ä»€ä¹ˆï¼Ÿ", opts: ["æŠšæ‘¸åŠ ç½—éçš„å¤´","æ‰¹è¯„åŠ ç½—é","è®©åŠ ç½—éèµ”å¿","æŠŠåŠ ç½—éèµ¶èµ°"], a: 0, explanation: "åŠ ç½—éåœ¨åŠ ç½—å†…é¼“åŠ±ä¸‹æ‰¿è®¤é”™è¯¯ï¼Œå—ä¼¤çš„è€èŒå‘˜ä¸ä»…æ²¡è´£æ€ªä»–ï¼Œè¿˜æŠšæ‘¸ä»–çš„å¤´ã€‚"},
            {q: "ä»£è¯¾è€å¸ˆä¸Šè¯¾æ—¶ï¼Œæ˜¯è°ç«™å‡ºæ¥åˆ¶æ­¢åŒå­¦ä»¬åµé—¹ï¼Ÿ", opts: ["åŠ ç½—å†…","å¾·ç½—è¥¿","æ–¯å¡”å°”è’‚","æŸ¯è±è’‚"], a: 0, explanation: "ä»£è¯¾è€å¸ˆå› æ€§æ ¼æ¸©å’Œæ— æ³•åˆ¶æ­¢åµé—¹ï¼ŒåŠ ç½—å†…æ„¤æ€’åœ°ç«™èµ·æ¥å‘µæ–¥åŒå­¦ä»¬ã€‚"},
            {q: "æ–¯å¡”å°”è’‚çš„å°å°å›¾ä¹¦é¦†ä¸­ï¼Œä¹¦æ¶ä¸Šçš„ä¹¦æ’åˆ—æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ", opts: ["æŒ‰é¢œè‰²æ­é…æ’åˆ—","æŒ‰å¤§å°æ’åˆ—","æŒ‰ç§‘ç›®æ’åˆ—","æŒ‰å‡ºç‰ˆæ—¶é—´æ’åˆ—"], a: 0, explanation: "æ–¯å¡”å°”è’‚å–„äºæ­é…ä¹¦çš„é¢œè‰²ï¼Œå°†ç™½è‰²ä¹¦æŒ¨ç€çº¢è‰²ã€é»„è‰²æŒ¨ç€é»‘è‰²ã€‚"},
            {q: "ã€Šä¸€æšå¥–ç« ã€‹ä¸­ï¼Œæ™®è±å…‹è¥¿è·å¾—å¥–ç« åï¼Œè°æœ€å…ˆæ¥æ¥ä»–ï¼Ÿ", opts: ["ä»–çš„çˆ¶äº²ï¼ˆé“åŒ ï¼‰","ä»–çš„æ¯äº²","æ ¡é•¿","è€å¸ˆ"], a: 0, explanation: "æ™®è±å…‹è¥¿è·å¾—å¥–ç« åï¼Œä»–çš„é“åŒ çˆ¶äº²æ¥å­¦æ ¡æ¥ä»–ã€‚"},
            {q: "ã€Šå°ç«è½¦ã€‹ä¸­ï¼Œæ™®è±å…‹è¥¿æ”¶åˆ°å°ç«è½¦åï¼Œé‚€è¯·æ©é‡Œç§‘å»å“ªé‡Œï¼Ÿ", opts: ["ä»–çˆ¶äº²çš„é“åŒ é“º","ä»–å®¶çš„äº­å­é—´","å…¬å›­","å­¦æ ¡"], a: 0, explanation: "æ™®è±å…‹è¥¿æ”¶åˆ°å°ç«è½¦åéå¸¸å¼€å¿ƒï¼Œé‚€è¯·æ©é‡Œç§‘å»ä»–çˆ¶äº²çš„é“åŒ é“ºã€‚"},
            {q: "ç›²ç«¥å­¦æ ¡çš„è€å¸ˆè¯´ï¼Œç›²ç«¥è¯†åˆ«æ–‡å­—ç”¨ä»€ä¹ˆæ–¹å¼ï¼Ÿ", opts: ["æ‘¸å‡¸å‡ºçš„ç‚¹ç‚¹","å¬è€å¸ˆæœ—è¯»","ç”¨ç‰¹æ®Šçœ¼é•œ","é è®°å¿†"], a: 0, explanation: "ç›²ç«¥çš„ä¹¦æ˜¯ç‰¹åˆ¶çš„ï¼Œå­—æ˜¯å‡¸å‡ºçš„ï¼Œä»–ä»¬ç”¨æ‰‹æ‘¸ç€è¯†åˆ«å­—è¯ã€‚"},
            {q: "å¤œæ ¡ä¸Šè¯¾çš„å·¥äººä»¬ä¸­ï¼Œå“ªä¸ªèŒä¸šçš„å·¥äººè„¸ä¸Šæ²¾ç€é¢ç²‰ï¼Ÿ", opts: ["é¢åŒ…æˆ¿ä¼™è®¡","æ³¥ç“¦åŒ ","é“åŒ ","æ¨µå¤«"], a: 0, explanation: "å¤œæ ¡é‡Œæœ‰å„ç§èŒä¸šçš„å·¥äººï¼Œå…¶ä¸­é¢åŒ…æˆ¿ä¼™è®¡çš„å¤´å‘å’Œè¡£æœä¸Šæ²¾ç€é¢ç²‰ã€‚"},
            {q: "ä¸ƒåå…«å·çŠ¯äººï¼ˆæŸ¯ç½—è¥¿çš„çˆ¶äº²ï¼‰åˆ¶ä½œå¢¨æ°´ç“¶æ—¶ï¼Œä¸Šé¢é›•åˆ»äº†ä»€ä¹ˆå›¾æ¡ˆï¼Ÿ", opts: ["é’¢ç¬”å’Œæœ¬å­","æ˜Ÿæ˜Ÿå’Œæœˆäº®","èŠ±æœµå’Œå¶å­","å¤ªé˜³å’Œäº‘æœµ"], a: 0, explanation: "ä¸ƒåå…«å·çŠ¯äººåˆ¶ä½œçš„æœ¨åˆ¶å¢¨æ°´ç“¶ä¸Šï¼Œé›•åˆ»ç€ä¸€æ”¯é’¢ç¬”æ¨ªæ”¾åœ¨æœ¬å­ä¸Šã€‚"},
            {q: "ã€Šä¸€ä¸ªå¤­æŠ˜çš„å­©å­ã€‹ä¸­ï¼Œå­©å­çš„çˆ¶äº²ä»äº‹ä»€ä¹ˆèŒä¸šï¼Ÿ", opts: ["é“è·¯æ¬è¿å·¥","æœ¨åŒ ","é“åŒ ","ç…¤è´©"], a: 0, explanation: "å¤­æŠ˜çš„å­©å­çˆ¶äº²æ˜¯é“è·¯æ¬è¿å·¥ï¼Œå­©å­å»ä¸–åï¼ŒäºŒå¹´çº§çš„åŒå­¦å’Œè€å¸ˆéƒ½æ¥é€è‘¬ã€‚"},
            {q: "ä¸‰æœˆåå››æ—¥é¢å¥–æ—¶ï¼Œç½—è´æå› ä¸ºä»€ä¹ˆäº‹è¿¹è·å¾—å¤§å®¶çš„æ¬¢å‘¼ï¼Ÿ", opts: ["ä»é©¬è½¦ä¸‹æ•‘å­©å­","å­¦ä¹ æˆç»©ç¬¬ä¸€","å¸®åŠ©åŒå­¦è¡¥ä¹ ","å‚åŠ é˜…å…µå¼"], a: 0, explanation: "ç½—è´ææ›¾ä»ç–¾é©°çš„é©¬è½¦ä¸‹æ•‘å‡ºä¸€ä¸ªä¸€å¹´çº§å°ç”·ç”Ÿï¼Œè‡ªå·±å´è¢«è½¦è½®è½§ä¼¤è…¿ã€‚"},
            {q: "æŸ¯è±è’‚çš„çˆ¶äº²è§åˆ°ç¿è´æ‰˜å›½ç‹æ—¶ï¼Œå–Šäº†ä»€ä¹ˆå£å·ï¼Ÿ", opts: ["å››åä¹å›¢ç¬¬å››è¥","å›½ç‹ä¸‡å²","æ„å¤§åˆ©ä¸‡å²","å†›é˜Ÿä¸‡å²"], a: 0, explanation: "æŸ¯è±è’‚çš„çˆ¶äº²æ›¾æ˜¯å››åä¹å›¢ç¬¬å››è¥çš„å£«å…µï¼Œè§åˆ°ç¿è´æ‰˜å›½ç‹æ—¶ï¼Œæ¿€åŠ¨åœ°å–Šå‡º'å››åä¹å›¢ç¬¬å››è¥'ã€‚"},
            {q: "å¹¼å„¿å›­çš„è€å¸ˆé—®å­©å­ä»¬'ç¨»ç±³åœ¨å“ªé‡Œç”Ÿé•¿'ï¼Œå­©å­ä»¬æ€ä¹ˆå›ç­”ï¼Ÿ", opts: ["ä»æ°´é‡Œé•¿çš„","ä»åœŸé‡Œé•¿çš„","ä»æ ‘ä¸Šé•¿çš„","ä»çŸ³å¤´é‡Œé•¿çš„"], a: 0, explanation: "è€å¸ˆæé—®'ç¨»ç±³åœ¨å“ªé‡Œç”Ÿé•¿'ï¼Œå…«ä¸ªå­©å­å¼ å¼€æ»¡æ˜¯é¥­çš„å˜´ï¼Œå¼‚å£åŒå£°åœ°å”±ç€å›ç­”'æ˜¯ä»æ°´é‡Œé•¿çš„'ã€‚"},
            {q: "æ©é‡Œç§‘çˆ¶äº²å»çœ‹æœ›è€å¸ˆå…‹ç½—å¡è’‚æ—¶ï¼Œè€å¸ˆæ‹¿å‡ºäº†å“ªä¸€å¹´çš„ä½œä¸šï¼Ÿ", opts: ["ä¸€å…«ä¸‰å…«å¹´","ä¸€å…«å››å…«å¹´","ä¸€å…«äº”å…«å¹´","ä¸€å…«å…­å…«å¹´"], a: 0, explanation: "å…‹ç½—å¡è’‚è€å¸ˆä¿å­˜ç€æ¯å±Šå­¦ç”Ÿçš„ä½œä¸šï¼Œä»–æ‰¾å‡ºæ©é‡Œç§‘çˆ¶äº²ä¸€å…«ä¸‰å…«å¹´å››æœˆä¸‰æ—¥çš„å¬å†™ä½œä¸šã€‚"},
            {q: "æ‚£ä½å»ç—…å­¦æ ¡çš„è€å¸ˆè¯´ï¼Œå­©å­ä»¬æœ€å¼€å¿ƒçš„äº‹æ˜¯ä»€ä¹ˆï¼Ÿ", opts: ["å¾—åˆ°è€å¸ˆè¡¨æ‰¬","å­¦ä¼šæ–°æŠ€èƒ½","æ”¶åˆ°ç¤¼ç‰©","å’ŒåŒå­¦ç©è€"], a: 0, explanation: "è€å¸ˆæåˆ°ä½å»ç—…å­©å­è™½ç„¶èº«ä½“æ®‹ç–¾ï¼Œä½†å¾ˆèªæ˜å¥½å­¦ï¼Œå¾—åˆ°è€å¸ˆçš„è¡¨æ‰¬æ—¶ä¼šéå¸¸å¼€å¿ƒã€‚"},
            {q: "ã€Šç‰ºç‰²ã€‹ä¸­ï¼Œæ©é‡Œç§‘å’Œå¸Œå°”ç»´å¨…æ”¾å¼ƒç¤¼ç‰©åï¼Œçˆ¶äº²åšäº†ä»€ä¹ˆï¼Ÿ", opts: ["å·å·ä¹°ç¤¼ç‰©æ”¾åœ¨ä»–ä»¬é¤å·¾ä¸‹","æ‰¹è¯„ä»–ä»¬æµªè´¹","è®©ä»–ä»¬å¤šåƒç‚¹é¥­","å¸¦ä»–ä»¬å»éƒŠæ¸¸"], a: 0, explanation: "æ©é‡Œç§‘å’Œå¸Œå°”ç»´å¨…ä¸ºå¸®å®¶é‡Œçœé’±æ”¾å¼ƒç¤¼ç‰©ï¼Œçˆ¶äº²æ·±å—æ„ŸåŠ¨ï¼Œå·å·ä¹°äº†å½©ç¬”ç›’å’Œæ‰‡å­ã€‚"},
            {q: "ã€Šç«ç¾ã€‹ä¸­ï¼Œæ¶ˆé˜²å‘˜ç½—æ¯”è¯ºæ•‘å¥³äººæ—¶ï¼Œæ˜¯ä»å“ªé‡Œè¿›å…¥ç€ç«çš„æˆ¿å­ï¼Ÿ", opts: ["æˆ¿é¡¶","çª—æˆ·","å¤§é—¨","çƒŸå›±"], a: 0, explanation: "ç½—æ¯”è¯ºé˜Ÿé•¿ä¸ºæ•‘æ‚¬åœ¨çª—å£çš„å¥³äººï¼Œçˆ¬ä¸Šæˆ¿é¡¶ï¼Œç©¿è¿‡ç‹­çª„çš„ç©ºé—´ï¼Œç”¨æ–§å¤´ç å¼€ç –ç“¦å’Œæˆ¿æ¢ã€‚"},
            {q: "é©¬å¯å¯»æ‰¾æ¯äº²çš„æ—…é€”ä¸­ï¼Œæ›¾ä¹˜åä»€ä¹ˆäº¤é€šå·¥å…·ä»å¸ƒå®œè¯ºæ–¯è‰¾åˆ©æ–¯å»ç½—è¨é‡Œå¥¥ï¼Ÿ", opts: ["å¸†èˆ¹","ç«è½¦","é©¬è½¦","æ±½è½¦"], a: 0, explanation: "é©¬å¯åœ¨åšå¡äººçš„å¸®åŠ©ä¸‹ï¼Œä¹˜åä¸€è‰˜è£…æ»¡æ°´æœçš„å¸†èˆ¹ï¼Œä»å¸ƒå®œè¯ºæ–¯è‰¾åˆ©æ–¯å‡ºå‘ã€‚"},
            {q: "åŠ é‡Œæ³¢ç¬¬åœ¨ç¾æ´²ä¸ºè§£æ”¾å¤–æ—äººæ°‘æˆ˜æ–—äº†å¤šå°‘å¹´ï¼Ÿ", opts: ["åå¹´","äº”å¹´","åäº”å¹´","äºŒåå¹´"], a: 0, explanation: "åŠ é‡Œæ³¢ç¬¬æ›¾åœ¨ç¾æ´²ä¸ºè§£æ”¾å¤–æ—äººæ°‘æˆ˜æ–—äº†åå¹´ï¼Œåæ¥å›åˆ°æ„å¤§åˆ©ã€‚"},
            {q: "å›½åº†é˜…å…µæ—¶ï¼Œé˜¿å°”å‘æ–¯å±±åœ°ç‹™å‡»å…µçš„å¸½å­æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ", opts: ["æˆ´å¡æ‹‰å¸ƒé‡Œäºšå¼å¸½å­ï¼Œæœ‰ç¿ ç»¿ç¿»é¢†","æˆ´é«˜ç­’å¸½ï¼Œæœ‰çº¢è‰²ç¾½æ¯›","æˆ´è´é›·å¸½ï¼Œæœ‰è“è‰²å¾½ç« ","æˆ´é’¢ç›”ï¼Œæœ‰é‡‘è‰²èŠ±çº¹"], a: 0, explanation: "é˜¿å°”å‘æ–¯å±±åœ°ç‹™å‡»å…µæˆ´ç€å¡æ‹‰å¸ƒé‡Œäºšå¼çš„å¸½å­ï¼Œç¿»é¢†æ˜¯ç¿ ç»¿è‰²ã€‚"},
            {q: "'ä¸‰åäºŒåº¦'ç« èŠ‚ä¸­ï¼Œæ²ƒè’‚å°¼ä¸ºä½“æ“è¯¾ç‰¹æ„ç©¿äº†ä»€ä¹ˆè¡£æœï¼Ÿ", opts: ["å¤©è“æ¡å›¾æ¡ˆçš„æ–°è¡£æœ","çº¢è‰²è¿åŠ¨æœ","ç™½è‰²è¡¬è¡«","é»‘è‰²å¤–å¥—"], a: 0, explanation: "å¤©æ°”ç‚çƒ­æ—¶ï¼Œæ²ƒè’‚å°¼ä¸ºä½“æ“è¯¾ç‰¹æ„ç©¿äº†ä¸€ä»¶å¤©è“æ¡å›¾æ¡ˆçš„æ–°è¡£æœã€‚"},
            {q: "åŒå­¦ä»¬å»ä¹¡ä¸‹éƒŠæ¸¸æ—¶ï¼Œæ˜¯è°å¸¦äº†ä¸¤å…¬æ–¤é‡çš„å¤§é¢åŒ…ï¼Ÿ", opts: ["æ™®è±å…‹è¥¿","åŠ ç½—å†…","å¾·ç½—è¥¿","æŸ¯è±è’‚"], a: 0, explanation: "éƒŠæ¸¸æ—¶ï¼Œæ™®è±å…‹è¥¿ç©¿ç€é“åŒ çš„è¡¬è¡«ï¼Œèƒ³è†Šä¸‹å¤¹ç€ä¸€ä¸ªä¸¤å…¬æ–¤é‡çš„å¤§é¢åŒ…ã€‚"},
            {q: "æ©é‡Œç§‘çš„å¥³è€å¸ˆå»ä¸–å‰ï¼Œæœ€åä¸€æ¬¡è§æ©é‡Œç§‘æ—¶é€äº†ä»€ä¹ˆç¤¼ç‰©ï¼Ÿ", opts: ["æ©™å­","è‹¹æœ","ç³–æœ","é¥¼å¹²"], a: 0, explanation: "å¥³è€å¸ˆç—…é‡æ—¶ï¼Œæ©é‡Œç§‘å»çœ‹æœ›å¥¹ï¼Œè€å¸ˆä»åºŠå¤´æŸœä¸Šæ‹¿èµ·ä¸€ä¸ªæ©™å­é€’ç»™æ©é‡Œç§‘ã€‚"},
            {q: "ã€Šæ²‰èˆ¹ã€‹ä¸­ï¼Œé©¬é‡Œå¥¥æ•‘æœ±ä¸½å¶å¡”åï¼Œè‡ªå·±çš„ç»“å±€æ˜¯ä»€ä¹ˆï¼Ÿ", opts: ["å’Œå¤§èˆ¹ä¸€èµ·æ²‰æ²¡","è¢«å…¶ä»–èˆ¹æ•‘èµ·","æ¸¸æ³³ä¸Šå²¸","è¢«é²¸é±¼åƒæ‰"], a: 0, explanation: "é©¬é‡Œå¥¥æŠŠé€ƒç”Ÿçš„æœºä¼šè®©ç»™æœ±ä¸½å¶å¡”ï¼Œè‡ªå·±ç•™åœ¨å³å°†æ²‰æ²¡çš„å¤§èˆ¹ä¸Šï¼Œæœ€ç»ˆå’Œå¤§èˆ¹ä¸€èµ·æ²‰å…¥æµ·ä¸­ã€‚"},
            {q: "æœŸæœ«è€ƒè¯•æ—¶ï¼Œå¾·ç½—è¥¿æ˜¯å¦‚ä½•å¸®åŠ©å…¶ä»–åŒå­¦çš„ï¼Ÿ", opts: ["æ‚„æ‚„ä¼ é€’ç­”æ¡ˆæç¤º","å¸®åŒå­¦æ•´ç†ä¹¦åŒ…","ç»™åŒå­¦å€Ÿæ–‡å…·","æ›¿åŒå­¦ç­”é¢˜"], a: 0, explanation: "è€ƒè¯•æ—¶ï¼Œå¾·ç½—è¥¿åˆ©ç”¨è‡ªå·±çš„æ™ºæ…§ï¼Œæ‚„æ‚„ç»™ä¸ä¼šç­”é¢˜çš„åŒå­¦ä¼ é€’æ•°å­—æˆ–è¿ç®—æç¤ºã€‚"},
            {q: "ã€Šå‘Šåˆ«ã€‹æ—¶ï¼Œå°ç“¦åŒ æœ€åä¸€æ¬¡å¯¹æ©é‡Œç§‘åšäº†ä»€ä¹ˆåŠ¨ä½œï¼Ÿ", opts: ["åšé‡å…”é¬¼è„¸","æ‹¥æŠ±æ©é‡Œç§‘","é€æ©é‡Œç§‘é’‰å­","å¸®æ©é‡Œç§‘èƒŒä¹¦åŒ…"], a: 0, explanation: "å‘Šåˆ«æ—¶ï¼Œå°ç“¦åŒ ä¸ºäº†æ©é¥°ç¦»åˆ«çš„ä¼¤æ„Ÿï¼Œæœ€åä¸€æ¬¡å¯¹æ©é‡Œç§‘åšäº†ä»–æ ‡å¿—æ€§çš„é‡å…”é¬¼è„¸ã€‚"},
            {q: "ã€Šæˆ‘çš„æ¯äº²ã€‹ä¸­ï¼Œçˆ¶äº²æ‰¹è¯„æ©é‡Œç§‘ä¸å°Šé‡æ¯äº²æ—¶ï¼Œè¯´ä»€ä¹ˆäººæ¯”å†’çŠ¯æ¯äº²çš„äººæ›´å¯æ•¬ï¼Ÿ", opts: ["å°Šé‡æ¯äº²çš„æ€äººçŠ¯","æœ‰é’±çš„ç»…å£«","å‹‡æ•¢çš„å£«å…µ","èªæ˜çš„å­¦è€…"], a: 0, explanation: "çˆ¶äº²ä¸¥å‰æ‰¹è¯„æ©é‡Œç§‘ä¸å°Šé‡æ¯äº²ï¼Œè¯´'å°Šé‡æ¯äº²çš„æ€äººçŠ¯è¿˜æœ‰ä¸€ç‚¹è¯šå®'ã€‚"}
        ];

        // æ¸¸æˆçŠ¶æ€
        let gameState = {
            currentGroup: [],
            groupNumber: 0,
            usedStudents: [],
            currentQuestions: [],
            currentQuestionIndex: 0,
            score: 0,
            timer: null,
            timeLeft: 10,
            isAnswering: false,
            allGroups: [],
            usedQuestions: [],
            lastCorrectPositions: [] // è®°å½•æœ€è¿‘å‡ é¢˜çš„æ­£ç¡®ç­”æ¡ˆä½ç½®
        };

        // DOMå…ƒç´ 
        const elements = {
            startGroupingBtn: document.getElementById('startGroupingBtn'),
            randomGroupBtn: document.getElementById('randomGroupBtn'),
            nextGroupBtn: document.getElementById('nextGroupBtn'),
            challengeInfo: document.getElementById('challengeInfo'),
            groupDisplay: document.getElementById('groupDisplay'),
            groupTitle: document.getElementById('groupTitle'),
            groupMembers: document.getElementById('groupMembers'),
            startChallengeContainer: document.getElementById('startChallengeContainer'),
            startChallengeBtn: document.getElementById('startChallengeBtn'),
            challengeSection: document.getElementById('challengeSection'),
            questionCard: document.getElementById('questionCard'),
            questionText: document.getElementById('questionText'),
            optionsContainer: document.getElementById('optionsContainer'),
            progress: document.getElementById('progress'),
            score: document.getElementById('score'),
            timer: document.getElementById('timer'),
            actionButtons: document.getElementById('actionButtons'),
            nextQuestion: document.getElementById('nextQuestion'),
            restart: document.getElementById('restart'),
            answerPopup: document.getElementById('answerPopup'),
            correctAnswerText: document.getElementById('correctAnswerText'),
            resultOverlay: document.getElementById('resultOverlay'),
            resultGroup: document.getElementById('resultGroup'),
            resultScore: document.getElementById('resultScore'),
            resultMessage: document.getElementById('resultMessage'),
            continueNext: document.getElementById('continueNext')
        };

        // éšæœºç»„é˜Ÿå‡½æ•°
        function formGroup() {
            if (gameState.usedStudents.length >= studentNames.length) {
                gameState.usedStudents = [];
                gameState.allGroups = [];
                gameState.groupNumber = 0;
            }

            const availableStudents = studentNames.filter(name => !gameState.usedStudents.includes(name));
            const shuffled = [...availableStudents].sort(() => Math.random() - 0.5);
            const selected = shuffled.slice(0, 5);
            
            gameState.currentGroup = selected;
            gameState.groupNumber++;
            gameState.usedStudents.push(...selected);
            gameState.allGroups.push(selected);

            // æ˜¾ç¤ºç»„é˜Ÿç»“æœ
            elements.groupTitle.textContent = `ç¬¬ ${gameState.groupNumber} ç»„`;
            elements.groupMembers.innerHTML = '';
            
            selected.forEach((name, index) => {
                const nameElement = document.createElement('div');
                nameElement.className = 'student-name';
                nameElement.textContent = `${index + 1}. ${name}`;
                nameElement.style.animationDelay = `${index * 0.1}s`;
                nameElement.style.animation = 'fadeIn 0.5s ease-out forwards';
                elements.groupMembers.appendChild(nameElement);
            });

            // æ˜¾ç¤ºç»„é˜Ÿä¿¡æ¯
            elements.challengeInfo.classList.add('hidden');
            elements.groupDisplay.classList.remove('hidden');
            elements.startGroupingBtn.classList.add('hidden');
            elements.randomGroupBtn.classList.remove('hidden');
            elements.startChallengeContainer.classList.remove('hidden');
            
            if (gameState.usedStudents.length >= studentNames.length) {
                elements.randomGroupBtn.textContent = 'å…¨éƒ¨åŒå­¦å‡å·²å‚ä¸ï¼Œä»å¤´å¼€å§‹';
            }
        }

        // ä¸‹ä¸€ç»„
        function nextGroup() {
            if (gameState.usedStudents.length >= studentNames.length) {
                gameState.usedStudents = [];
                gameState.allGroups = [];
                gameState.groupNumber = 0;
                elements.nextGroupBtn.classList.add('hidden');
            }
            
            formGroup();
        }

        // å‡†å¤‡æŒ‘æˆ˜
        function prepareChallenge() {
            // é‡ç½®å·²ä½¿ç”¨é¢˜ç›®
            gameState.usedQuestions = [];
            gameState.lastCorrectPositions = [];
            
            // éšæœºé€‰æ‹©10é“é¢˜ç›®ï¼Œç¡®ä¿ä¸é‡å¤
            let availableQuestions = questions.filter((q, index) => !gameState.usedQuestions.includes(index));
            if (availableQuestions.length < 10) {
                // å¦‚æœå¯ç”¨é¢˜ç›®ä¸è¶³10é“ï¼Œé‡ç½®å·²ä½¿ç”¨é¢˜ç›®åˆ—è¡¨
                gameState.usedQuestions = [];
                availableQuestions = questions;
            }
            
            const shuffled = [...availableQuestions].sort(() => Math.random() - 0.5);
            gameState.currentQuestions = shuffled.slice(0, 10);
            
            // è®°å½•å·²ä½¿ç”¨çš„é¢˜ç›®ç´¢å¼•
            gameState.currentQuestions.forEach(q => {
                const index = questions.findIndex(item => item.q === q.q);
                if (index !== -1) {
                    gameState.usedQuestions.push(index);
                }
            });
            
            gameState.currentQuestionIndex = 0;
            gameState.score = 0;
            
            // éšè—ç»„é˜Ÿç›¸å…³ä¿¡æ¯
            elements.groupDisplay.classList.add('hidden');
            elements.startChallengeContainer.classList.add('hidden');
            elements.challengeInfo.classList.add('hidden');
            elements.randomGroupBtn.classList.add('hidden');
            elements.nextGroupBtn.classList.add('hidden');
            
            // æ˜¾ç¤ºæŒ‘æˆ˜åŒºåŸŸ
            elements.challengeSection.classList.remove('hidden');
            setTimeout(() => {
                elements.questionCard.classList.add('visible');
            }, 100);
            
            showQuestion();
        }

        // æ˜¾ç¤ºé¢˜ç›®
        function showQuestion() {
            if (gameState.currentQuestionIndex >= gameState.currentQuestions.length) {
                showResult();
                return;
            }

            const question = gameState.currentQuestions[gameState.currentQuestionIndex];
            gameState.isAnswering = true;
            gameState.timeLeft = 10;
            
            elements.progress.textContent = `ç¬¬ ${gameState.currentQuestionIndex + 1}/10 é¢˜`;
            elements.score.textContent = `å¾—åˆ†: ${gameState.score}`;
            elements.questionText.textContent = question.q;
            
            elements.optionsContainer.innerHTML = '';
            
            // æ™ºèƒ½éšæœºåŒ–é€‰é¡¹é¡ºåºï¼Œé¿å…è¿ç»­ç›¸åŒä½ç½®
            const { shuffled, correctIndex } = shuffleOptionsSmart(question.opts, question.a);
            
            shuffled.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'option-btn';
                button.textContent = option;
                button.onclick = () => selectAnswer(index, correctIndex);
                elements.optionsContainer.appendChild(button);
            });
            
            elements.actionButtons.classList.add('hidden');
            startTimer();
        }

        // æ™ºèƒ½éšæœºåŒ–é€‰é¡¹é¡ºåº
        function shuffleOptionsSmart(options, correctIndex) {
            const shuffled = [...options];
            let newCorrectIndex = correctIndex;
            
            // è·å–æœ€è¿‘3é¢˜çš„æ­£ç¡®ç­”æ¡ˆä½ç½®
            const recentPositions = gameState.lastCorrectPositions.slice(-3);
            
            // å°è¯•æ‰¾åˆ°ä¸€ä¸ªä¸åœ¨æœ€è¿‘3ä¸ªä½ç½®çš„æ–°ä½ç½®
            let availablePositions = [];
            for (let i = 0; i < options.length; i++) {
                if (!recentPositions.includes(i)) {
                    availablePositions.push(i);
                }
            }
            
            // å¦‚æœå¯ç”¨ä½ç½®ä¸ºç©ºï¼ˆæç«¯æƒ…å†µï¼‰ï¼Œä½¿ç”¨æ‰€æœ‰ä½ç½®
            if (availablePositions.length === 0) {
                availablePositions = [0, 1, 2, 3];
            }
            
            // éšæœºé€‰æ‹©ä¸€ä¸ªå¯ç”¨ä½ç½®ä½œä¸ºæ­£ç¡®ç­”æ¡ˆçš„æ–°ä½ç½®
            const targetCorrectIndex = availablePositions[Math.floor(Math.random() * availablePositions.length)];
            
            // æ‰§è¡Œæ´—ç‰Œï¼Œç¡®ä¿æ­£ç¡®ç­”æ¡ˆè½åœ¨ç›®æ ‡ä½ç½®
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
                
                if (i === newCorrectIndex) {
                    newCorrectIndex = j;
                } else if (j === newCorrectIndex) {
                    newCorrectIndex = i;
                }
            }
            
            // å¦‚æœæ­£ç¡®ç­”æ¡ˆä¸åœ¨ç›®æ ‡ä½ç½®ï¼Œè°ƒæ•´
            if (newCorrectIndex !== targetCorrectIndex) {
                const currentCorrectOption = shuffled[newCorrectIndex];
                const targetOption = shuffled[targetCorrectIndex];
                shuffled[newCorrectIndex] = targetOption;
                shuffled[targetCorrectIndex] = currentCorrectOption;
                newCorrectIndex = targetCorrectIndex;
            }
            
            // è®°å½•è¿™æ¬¡çš„æ­£ç¡®ç­”æ¡ˆä½ç½®
            gameState.lastCorrectPositions.push(newCorrectIndex);
            if (gameState.lastCorrectPositions.length > 5) {
                gameState.lastCorrectPositions.shift();
            }
            
            return { shuffled, correctIndex: newCorrectIndex };
        }

        // å¼€å§‹è®¡æ—¶
        function startTimer() {
            clearInterval(gameState.timer);
            elements.timer.textContent = gameState.timeLeft;
            elements.timer.classList.remove('warning');
            
            gameState.timer = setInterval(() => {
                gameState.timeLeft--;
                elements.timer.textContent = gameState.timeLeft;
                
                soundEffects.playTick();
                
                if (gameState.timeLeft <= 3) {
                    elements.timer.classList.add('warning');
                }
                
                if (gameState.timeLeft <= 0) {
                    clearInterval(gameState.timer);
                    timeOut();
                }
            }, 1000);
        }

        // é€‰æ‹©ç­”æ¡ˆ
        function selectAnswer(index, correctIndex) {
            if (!gameState.isAnswering) return;
            
            clearInterval(gameState.timer);
            gameState.isAnswering = false;
            
            const buttons = elements.optionsContainer.querySelectorAll('.option-btn');
            
            buttons.forEach(button => button.disabled = true);
            
            if (index === correctIndex) {
                buttons[index].classList.add('correct');
                gameState.score += 10;
                soundEffects.playCorrect();
            } else {
                buttons[index].classList.add('wrong');
                buttons[correctIndex].classList.add('correct');
                soundEffects.playWrong();
                const question = gameState.currentQuestions[gameState.currentQuestionIndex];
                showAnswerPopup(question.opts[question.a], question.explanation);
            }
            
            setTimeout(() => {
                elements.actionButtons.classList.remove('hidden');
            }, 2000);
        }

        // è¶…æ—¶å¤„ç†
        function timeOut() {
            gameState.isAnswering = false;
            const question = gameState.currentQuestions[gameState.currentQuestionIndex];
            const buttons = elements.optionsContainer.querySelectorAll('.option-btn');
            
            buttons.forEach(button => button.disabled = true);
            buttons[question.a].classList.add('correct');
            
            soundEffects.playTimeout();
            showAnswerPopup(question.opts[question.a], question.explanation);
            
            setTimeout(() => {
                elements.actionButtons.classList.remove('hidden');
            }, 3000);
        }

        // æ˜¾ç¤ºç­”æ¡ˆå¼¹çª—
        function showAnswerPopup(answer, explanation) {
            elements.correctAnswerText.innerHTML = `æ­£ç¡®ç­”æ¡ˆï¼š${answer}<br><br>${explanation}`;
            elements.answerPopup.classList.add('show');
            
            setTimeout(() => {
                elements.answerPopup.classList.remove('show');
            }, 3000);
        }

        // ä¸‹ä¸€é¢˜
        function nextQuestion() {
            // é‡ç½®é¢˜ç›®å¡ç‰‡åŠ¨ç”»
            elements.questionCard.classList.remove('visible');
            elements.optionsContainer.innerHTML = '';
            
            gameState.currentQuestionIndex++;
            
            // å»¶è¿Ÿæ˜¾ç¤ºä¸‹ä¸€é¢˜ï¼Œåˆ›å»ºè¿‡æ¸¡æ•ˆæœ
            setTimeout(() => {
                elements.questionCard.classList.add('visible');
                showQuestion();
            }, 150);
        }

        // æ˜¾ç¤ºç»“æœ
        function showResult() {
            clearInterval(gameState.timer);
            elements.challengeSection.classList.add('hidden');
            
            const percentage = gameState.score;
            let message = '';
            let className = '';
            
            if (percentage === 100) {
                elements.resultScore.textContent = `${gameState.score}åˆ†`;
                elements.resultScore.className = 'result-score excellent';
                message = 'å¤ªæ£’äº†ï¼æ»¡åˆ†é€šå…³ï¼';
                className = 'excellent';
                soundEffects.playExcellent();
            } else if (percentage >= 80) {
                elements.resultScore.textContent = `${gameState.score}åˆ†`;
                elements.resultScore.className = 'result-score good';
                message = 'å¾ˆå‰å®³ï¼ç»§ç»­ä¿æŒï¼';
                className = 'good';
                soundEffects.playGood();
            } else {
                elements.resultScore.textContent = `${gameState.score}åˆ†`;
                elements.resultScore.className = 'result-score encourage';
                message = 'åŠ æ²¹ï¼å†æ¥å†å‰ï¼';
                className = 'encourage';
                soundEffects.playEncourage();
            }
            
            elements.resultGroup.textContent = `ç¬¬${gameState.groupNumber}ç»„`;
            elements.resultMessage.textContent = message;
            elements.resultMessage.className = `result-message ${className}`;
            elements.resultOverlay.classList.add('show');
        }

        // ç»§ç»­ä¸‹ä¸€ç»„ï¼ˆç»“æŸæŒ‘æˆ˜åï¼‰
        function continueToNextGroup() {
            elements.resultOverlay.classList.remove('show');
            elements.challengeSection.classList.add('hidden');
            elements.questionCard.classList.remove('visible');
            elements.actionButtons.classList.add('hidden');
            
            // ä¸é‡ç½®groupNumberå’ŒusedStudentsï¼Œç»§ç»­ä½¿ç”¨å½“å‰è¿›åº¦
            gameState.currentQuestions = [];
            gameState.currentQuestionIndex = 0;
            gameState.score = 0;
            
            // æ˜¾ç¤ºç»„é˜Ÿç•Œé¢ï¼Œå‡†å¤‡ä¸‹ä¸€ç»„
            elements.startGroupingBtn.classList.add('hidden');
            elements.randomGroupBtn.classList.remove('hidden');
            elements.nextGroupBtn.classList.remove('hidden');
            elements.challengeInfo.classList.remove('hidden');
            elements.groupDisplay.classList.add('hidden');
            elements.startChallengeContainer.classList.add('hidden');
            
            // è‡ªåŠ¨è¿›å…¥ä¸‹ä¸€ç»„
            nextGroup();
        }
        
        // é‡æ–°å¼€å§‹ï¼ˆä»ç¬¬ä¸€ç»„å¼€å§‹ï¼‰
        function restart() {
            elements.resultOverlay.classList.remove('show');
            elements.challengeSection.classList.add('hidden');
            elements.questionCard.classList.remove('visible');
            elements.actionButtons.classList.add('hidden');
            
            gameState.groupNumber = 0;
            gameState.usedStudents = [];
            gameState.allGroups = [];
            gameState.currentQuestions = [];
            gameState.currentQuestionIndex = 0;
            gameState.score = 0;
            gameState.usedQuestions = [];
            gameState.lastCorrectPositions = [];
            
            elements.startGroupingBtn.classList.remove('hidden');
            elements.randomGroupBtn.classList.add('hidden');
            elements.nextGroupBtn.classList.add('hidden');
            elements.challengeInfo.classList.remove('hidden');
            elements.groupDisplay.classList.add('hidden');
            elements.startChallengeContainer.classList.add('hidden');
        }

        // åˆå§‹åŒ–äº‹ä»¶ç›‘å¬å™¨
        function initializeEventListeners() {
            elements.startGroupingBtn.addEventListener('click', function() {
                formGroup();
                elements.nextGroupBtn.classList.remove('hidden');
            });
            elements.randomGroupBtn.addEventListener('click', formGroup);
            elements.nextGroupBtn.addEventListener('click', nextGroup);
            elements.startChallengeBtn.addEventListener('click', prepareChallenge);
            elements.nextQuestion.addEventListener('click', nextQuestion);
            elements.restart.addEventListener('click', restart);
            elements.continueNext.addEventListener('click', continueToNextGroup);
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            initializeEventListeners();
            // è§¦å‘éŸ³é¢‘ä¸Šä¸‹æ–‡ï¼ˆæŸäº›æµè§ˆå™¨éœ€è¦ç”¨æˆ·äº¤äº’ï¼‰
            document.addEventListener('click', function initAudio() {
                if (soundEffects.audioContext && soundEffects.audioContext.state === 'suspended') {
                    soundEffects.audioContext.resume();
                }
                document.removeEventListener('click', initAudio);
            }, { once: true });
        });
    </script>
</body>
</html>